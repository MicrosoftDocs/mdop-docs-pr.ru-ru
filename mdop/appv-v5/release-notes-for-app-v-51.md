---
title: Заметки о выпуске App-V 5.1
description: Заметки о выпуске App-V 5.1
author: dansimp
ms.assetid: 62c5be3b-0a46-4512-93ed-97c23184f343
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 09/26/2016
ms.openlocfilehash: 7437a16bc10b21bb15b0f8307c2711177e78cb72
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/26/2020
ms.locfileid: "10813309"
---
# Заметки о выпуске App-V 5.1


Ниже описаны известные проблемы, возникающие в Microsoft Application Virtualization (App-V) 5,1.

## Произошла ошибка во время обновления публикации между сервером управления App-V 5,0 SP3 и клиентом App-V 5,1 в Windows 10


При обновлении публикации при синхронизации пакетов с сервера управления App-V 5,0 SP3 до клиента App-V 5,1 в Windows 10 возникает ошибка. Эта ошибка возникает, потому что сервер App-V 5,0 SP3 не понимает операционную систему Windows 10, указанную в URL-адресе публикации. Эта проблема устранена для сервера публикаций App-V 5,1, но не относится к версиям App-V 5,0 SP3 или более ранней версии.

**Временное решение**: обновите сервер App-v 5,0 до сервера управления App-v 5,1 для клиентов Windows 10.

## Пользовательские конфигурации не применяются к пакетам, которые будут опубликованы глобально, если они задаются с помощью сервера App-V 5,1.


Если вы назначаете пакет в РЕКЛАМную группу, которая будет содержать учетные записи компьютеров и примените пользовательскую конфигурацию к этой группе с помощью сервера App-V, настраиваемая конфигурация не будет применена к этим машинам. Клиент App-V 5,1 будет публиковать пакеты, назначенные учетной записи компьютера глобально. Однако он хранит пользовательские файлы конфигурации для каждого пользователя в профиле каждого пользователя. Для глобальных опубликованных пакетов не будет доступа к этой настраиваемой конфигурации.

**Временное решение**выполните одно из указанных ниже действий.

-   Назначьте пакет группам, содержащим только учетные записи пользователей. Это гарантирует, что настраиваемая конфигурация пакета будет храниться в каждом пользовательском профиле и будет применена правильно.

-   Создайте пользовательский файл конфигурации развертывания и примените его к пакету на клиенте с помощью командлета Add-AppvClientPackage с параметром – DynamicDeploymentConfiguration. Дополнительные сведения можно найти в разделе [о динамической конфигурации App-V 5,1](about-app-v-51-dynamic-configuration.md) .

-   Создайте новый пакет с настраиваемой конфигурацией с помощью секвенсора App-V 5,1.

## После установки новой версии App-V 5,1 серверные файлы не удаляются


При удалении сервера App-V 5,0 SP1 и последующем установке сервера App-V 5,1 установка завершается сбоем, устанавливается неправильная версия сервера управления и возвращается сообщение об ошибке. Проблема возникает из-за того, что файлы сервера не удаляются при удалении App-V 5,0 с пакетом обновления 1 (SP1), поэтому процесс установки производит обновление вместо новой установки.

**Временное решение**: удалите этот раздел реестра, прежде чем приступить к установке App-V 5,1:

В разделе HKEY \ _LOCAL \ _MACHINE \\SOFTWARE\\Wow6432Node\\Microsoft\\Windows\\CurrentVersion\\Uninstall найдите и удалите раздел GUID установки, который включает параметр DWORD "DisplayName" с данными значения "Microsoft Application Virtualization (App-V) Server". Это единственный ключ, который нужно удалить.

## Сопоставления типов файлов, добавленные вручную, не сохраняются надлежащим образом


Сопоставления типов файлов, добавленные в пакет приложения вручную с помощью клавиш и вкладки FTAs в конце мастера обновления приложений, не сохраняются надлежащим образом. Они не будут доступны для клиента App-V или секвенсор при повторном обновлении сохраненного пакета.

**Временное решение**: чтобы добавить ассоциацию типа файла, откройте пакет для изменения и запустите мастер обновления. На этапе установки добавьте новую связь типа файла в операционной системе. Секвенсор обнаружит новую связь в системном реестре и добавит ее в виртуальный реестр пакета, где он будет доступен для клиента.

## Дополнительные данные записываются на локальный диск, когда потоковые пакеты в режиме общего хранилища содержимого (SCS) выводятся в клиенте, который также управляется AppLocker.


Чтобы уменьшить объем данных, записываемых на локальный диск клиента, вы можете включить режим SCS в клиенте App-V 5,1 для потоковой передачи содержимого пакета по запросу. Тем не менее, если AppLocker управляет приложением в пакете, некоторые данные могут быть написаны на локальном диске клиента, который в противном случае не записывается.

**Временное решение**: нет

## Кнопка "Обзор" в диалоговом окне "добавить пакет" на консоли управления недоступна при использовании Chrome или Firefox


На странице Packages (пакеты) на консоли управления, если в правом нижнем углу нажать кнопку **Добавить или обновить** , появится диалоговое окно **Добавление пакета** . Если вы обращаетесь к консоли управления с помощью Chrome или Firefox в качестве браузера, вы не сможете перейти к расположению пакета.

**Временное решение**: введите (или скопируйте и вставьте) путь к пакету в поле **Add Package input (добавить пакет** ). Если консоль управления имеет доступ к этому пути, вы сможете добавить пакет. Если пакет находится в общей сетевой папке, вы можете перейти к расположению с помощью проводника, выполнив следующие действия:

1.  Удерживая нажатой **клавишу Shift**, щелкните файл пакета правой кнопкой мыши

2.  Выберите команду " **Копировать как путь** "

3.  Вставьте путь в поле ввода диалогового окна " **Добавление пакета** ".

## <a href="" id="upgrading-app-v-management-server-to-5-1-sometimes-fails-with-the-message--a-database-error-occurred-"></a>При обновлении сервера управления App-V до 5,1 иногда происходит сбой с сообщением "произошла ошибка базы данных".


Если вы установили сервер управления пакетом обновления 1 (SP1) для App-V 5,0, а затем пытаетесь перейти на сервер App-V 5,1, если настроены и включены несколько групп подключений, появляется следующее сообщение об ошибке: "произошла ошибка базы данных". Причина: "Недопустимый столбец с именем" PackageOptional ". Неправильное имя столбца "VersionOptional".

**Временное решение**: выполните эту команду в базе данных SQL:

`ALTER TABLE AppVManagement.dbo.PackageGroupMembers ADD PackageOptional bit NOT NULL DEFAULT 0, VersionOptional bit NOT NULL DEFAULT 0`

где "AppVManagement" — это имя базы данных.

## Пользователи не могут открыть пакет в опубликованной пользователем группе подключения, если вы добавляете или удаляете дополнительный пакет.


В средах, в которых запущен клиент RDS или у которых есть несколько параллельных пользователей на компьютере, пользователи, вошедших в группу, не могут открывать приложения в пакетах, которые находятся в опубликованной пользователем группе подключения, если дополнительный пакет добавляется в группу или удаляется из нее.

**Временное решение**: Выйдите из учетной записи пользователя, а затем снова войдите в нее.

## Сообщение об ошибке ошибочно отображается, если группа подключений опубликована только для пользователя


При запуске Repair-AppvClientConnectionGroup появляется следующее сообщение об ошибке, даже если группа подключений опубликована только для пользователя: "Внутренняя ошибка интеграции App-V: пакет не интегрирован для пользователя. Убедитесь, что пакет добавлен на компьютер и опубликован пользователю. "

**Временное решение**выполните одно из указанных ниже действий.

-   Опубликуйте все пакеты в группе подключения.

    Проблема возникает в том случае, если у удаляемой группы подключения есть пакеты, которые отсутствуют или недоступны пользователю (то есть не Опубликовано глобально или с пользователем). Однако восстановление будет работать, если все пакеты группы подключений доступны, поэтому убедитесь, что все пакеты опубликованы.

-   Исправлять пакеты по отдельности с помощью команды Repair-AppvClientPackage, а не команды Repair-AppvClientConnectionGroup.

    Определите, какие пакеты доступны пользователям, и запустите команду repair-AppvClientPackage один раз для каждого пакета. С помощью командлетов PowerShell выполните указанные ниже действия.

    1.  Получение всех пакетов в группе подключения.

    2.  Проверьте, опубликован ли каждый пакет в данный момент.

    3.  Если пакет уже опубликован, запустите команду repair-AppvClientPackage для этого пакета.

## Значки неправильно отображаются в секвенсоре


Значки на вкладке "сочетания клавиш" и "сопоставление типов файлов" отображаются неправильно при изменении пакета в секвенсоре App-V. Эта проблема возникает в том случае, если размер значков не равен 16x16 или 32x32.

**Временное решение**: Используйте только значки размером 16x16 или 32x32.

## Сценарий InsertVersionInfo. SQL больше не требуется для базы данных управления


Сценарий InsertVersionInfo. SQL не требуется для версий базы данных управления App-V более поздней версии, чем App-V 5,0 с пакетом обновления 3 (SP3).

Сценарий Permissions. SQL должен обновляться в соответствии с **шагом 2** в [статье 3031340 базы знаний](https://support.microsoft.com/kb/3031340).

**Важно!** 
 **Шаг 1** не требуется для версий App-v, более поздних, чем App-v 5,0 SP3.

 

## Microsoft Visual Studio 2012 не поддерживается


Приложение App-V 5,1 не поддерживает Visual Studio 2012.

**Временное решение**: нет

## Ограничения имени файла приложения для приложения Sequencer-V 5. x


Секвенсор App-V 5. x не может последовательностей в приложениях с именами, соответствующими "CO_ &lt; x &gt; ", где x — любая цифра. Будет сгенерировано сообщение об ошибке 0x8007139F.

**Временное решение**: используйте другое имя файла

## Ошибка "файл не найден" при подключении пакета


Иногда при подключении пакета генерируется ошибка "файл не найден" (0x80070002). Обычно это происходит, если папка в пакете App-V состоит из большого количества файлов (например, 20K или более). Это может привести к тому, что потоковые потоки будут занимать больше времени, чем ожидалось, и не выйдет время ожидания, которое создает ошибку "файл не найден"

**Временное решение**: начиная с HF06, появился новый раздел реестра, позволяющий расширить этот период ожидания.

<table>
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<tbody>
<tr>
<td align="left">Путь</td>
<td align="left">HKEY_LOCAL_MACHINE \SOFTWARE\Microsoft\AppV\Client\Streaming</td>
</tr>
<tr>
<td align="left">Параметр</td>
<td align="left">StreamResponseWaitTimeout</td>
</tr>
<tr>
<td align="left">Типа</td>
<td align="left">DWORD</td>
</tr>
<tr>
<td align="left">Измерения</td>
<td align="left">Течение</td>
</tr>
<tr>
<td align="left">По умолчанию</td>
<td align="left">5<br />
<strong>Примечание </strong> : это значение по умолчанию, если раздел реестра не определен, или &lt; задано значение 5.
</td>
</tr>
</tbody>
</table>






## Статьи по теме


[Сведения об App-V 5.1](about-app-v-51.md)

 

 





