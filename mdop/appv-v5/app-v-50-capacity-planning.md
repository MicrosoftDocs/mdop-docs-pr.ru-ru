---
title: Планирование загрузки App-V 5.0
description: Планирование загрузки App-V 5.0
author: dansimp
ms.assetid: 56f48b00-cd91-4280-9481-5372a0e2e792
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 06/16/2016
ms.openlocfilehash: 9e828457a286f6f686c227a935828679514d87ad
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/26/2020
ms.locfileid: "10814853"
---
# Планирование загрузки App-V 5.0


Перечисленные ниже рекомендации можно использовать в качестве базового плана, чтобы определить сведения о планировании мощности, соответствующие инфраструктуре App-V 5,0 в Организации.

**Важно!**  Данные в этом разделе используются только в качестве общего руководства по планированию развертывания приложения-V 5,0. Требования к системной мощности будут зависеть от конкретных сведений о вашем оборудовании и среде приложений. Кроме того, в этом документе отображаются номера производительности, которые можно увидеть, и результаты могут отличаться.

 

## Определение области охвата проекта


Прежде чем приступить к разработке инфраструктуры App-V 5,0, необходимо определить область проекта. Область действия состоит из определения того, какие приложения будут доступны для выполнения практически и для определения конечных пользователей, и их расположения. Эта информация поможет вам определить, какой тип инфраструктуры App-V 5,0 следует реализовать. Решения, касающиеся области охвата проекта, должны основываться на конкретных требованиях вашей организации.

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Задача</th>
<th align="left">Дополнительные сведения</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>Определение области применения приложения</p></td>
<td align="left"><p>В зависимости от виртуализированных приложений инфраструктура App-V 5,0 может быть настроена различными способами. Первая задача — определить приложения, которые нужно виртуализировать.</p></td>
</tr>
<tr class="even">
<td align="left"><p>Определение области расположения</p></td>
<td align="left"><p>Область расположения — это физическое расположение (например, в масштабах всей организации или в определенном географическом расположении), в котором планируется запускать виртуализированные приложения. Она также может ссылаться на заполнение пользователей (например, один отдел), который будет запускать виртуальные приложения. Вы должны получить карту сети, которая содержит пути подключения, а также пропускную способность для каждого места и количество пользователей, использующих виртуализированные приложения и скорость связи WAN.</p></td>
</tr>
</tbody>
</table>

 

## Определение необходимости инфраструктуры App-V 5,0


**Важно!**  Для обеих следующих моделей на компьютере, на котором планируется запускать виртуальные приложения, должен быть установлен клиент App-V 5,0.

Вы также можете управлять средой App-V 5,0 с помощью электронного решения для рассылки программного обеспечения (ESD), такого как Microsoft Systems Center Configuration Manager. Дополнительные сведения можно найти в разделе [Развертывание пакетов приложений для App-V 5,0 с помощью электронного распространения программного обеспечения (ESD)](deploying-app-v-50-packages-by-using-electronic-software-distribution--esd-.md).

 

-   **Отдельная модель** : Автономная модель позволяет использовать для распространения виртуальные приложения, поддерживающие установщик Windows, без потоковой передачи данных. App-V 5,0 в автономном режиме состоит из секвенсора и клиента; Дополнительные компоненты не требуются. Приложения подготавливаются для виртуализации с помощью процессов, которые называются виртуализацией. Дополнительные сведения можно найти [в разделе Планирование приложения Sequencer-V 5,0 и развертывание клиента](planning-for-the-app-v-50-sequencer-and-client-deployment.md). Изолированная модель рекомендуется для следующих сценариев:

    -   С отключенными удаленными пользователями, которые не могут подключиться к инфраструктуре App-V 5,0.

    -   При запуске системы управления программным обеспечением, например Configuration Manager 2012.

    -   Если ограничения пропускной способности сети задерживает электронное распространение программного обеспечения.

-   **Полная модель инфраструктуры** — полная модель инфраструктуры предоставляет возможности распространения программного обеспечения, управления и создания отчетов; Она также включает потоковую передачу приложений по сети. Модель полной инфраструктуры App-V 5,0 состоит из одного или нескольких серверов управления App-V 5,0. Сервер управления можно использовать для публикации приложений на всех клиентах. Процесс публикации поместит значки виртуальных приложений и ярлыки на целевом компьютере. Кроме того, он может выполнять потоковую передачу приложений для локальных пользователей. Дополнительные сведения об установке сервера управления можно найти в разделе [Планирование развертывания сервера App-V 5,0](planning-for-the-app-v-50-server-deployment.md). Полная модель инфраструктуры рекомендуется для следующих сценариев:

    **Важно!**  Для модели App-V 5,0 в полной инфраструктуре инфраструктуры требуется Microsoft SQL Server для хранения данных конфигурации. Дополнительные сведения см. в разделе [Поддерживаемые конфигурации App-V 5,0](app-v-50-supported-configurations.md).

     

    -   Если вы хотите опубликовать приложение на целевом компьютере с помощью сервера управления.

    -   Для быстрой подготовки приложений к целевым компьютерам.

    -   Если вы хотите использовать отчеты App-V 5,0.

## Рекомендации по выбору размера для сквозного сервера


В следующем разделе содержатся сведения о сквозном изменении размера и планировании приложения App-V 5,0. Более подробную информацию можно найти в следующих разделах.

**Примечание**  Время ответа на клиенте в цикле обработки — это время, затраченное на работу компьютера, на котором запущен клиент App-V 5,0, чтобы получить успешное уведомление от сервера публикаций. Время ответа цикла обработки на сервере публикаций — это время, потребовавшееся на компьютере, на котором запущен сервер публикаций, для получения успешно обновленных метаданных пакета с сервера управления.

 

-   Клиенты 20 000 могут ориентироваться на один сервер публикаций для получения пакета в приемлемое время кругового приема. ( &lt; 3 секунды)

-   Один сервер управления может поддерживать до 50 серверов публикации для метаданных пакета в течение приемлемого времени приема-передачи. ( &lt; 5 секунд)

## <a href="" id="---------app-v-5-0-management-server-capacity-planning-recommendations"></a> Рекомендации по планированию производительности сервера управления для App-V 5,0


Для серверов публикаций App-V 5,0 требуется сервер управления для запросов на обновление пакетов и ответов на обновление пакетов. Затем сервер управления отправляет сведения в базу данных управления для получения информации. Дополнительные сведения о конфигурациях, поддерживаемых сервером управления App-V 5,0, приведены в разделе [Поддерживаемые конфигурации App-v 5,0](app-v-50-supported-configurations.md).

**Примечание**  Время обновления по умолчанию на сервере публикаций App-V 5,0 составляет десять минут.

 

При обращении нескольких одновременных серверов публикаций к единому серверу управления для обновления метаданных пакета на сервере публикаций влияют следующие три фактора.

1.  Количество серверов публикаций, выполняющих одновременные запросы.

2.  Количество групп подключений, настроенных на сервере управления.

3.  Количество групп доступа, настроенных на сервере управления.

В следующей таблице приведены дополнительные сведения о каждом факторе, влияющем на время приема круга.

**Примечание**  Время ответа цикла обработки — это время, потребовавшееся на компьютере, на котором работает сервер публикаций App-V 5,0, чтобы получить успешное обновление метаданных пакета от сервера управления.

 

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Факторы, влияющие на время ответа кругового цикла</th>
<th align="left">Дополнительные сведения</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>Количество серверов публикаций, запрашивающих обновление метаданных пакета одновременно.</p></td>
<td align="left"><p></p>
<ul>
<li><p>Один сервер управления может отвечать на запросы до 320 серверов публикаций, запрашивающих публикацию метаданных одновременно.</p></li>
<li><p>Время ответа на запрос в формате кругового приема для 320 Pub Server составляет ~ 40 секунд.</p></li>
<li><p>Для &lt; серверов публикаций 50 с запросом метаданных одновременно время ответа цикла обработки составляет &lt; 5 секунд.</p></li>
<li><p>Время отклика от 50 до 320 сервера публикаций повышается линейно (примерно 2x).</p></li>
</ul></td>
</tr>
<tr class="even">
<td align="left"><p>Количество групп подключений, настроенных на сервере управления.</p>
<p></p></td>
<td align="left"><p></p>
<ul>
<li><p>Для групп соединений до 100 не существует значительных изменений в времени ответа на цикл обработки на сервере публикации.</p></li>
<li><p>Для групп соединений 100-400 существует незначительное линейное приращение времени ответа цикла обработки.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td align="left"><p>Количество групп доступа, настроенных на сервере управления.</p>
<p></p></td>
<td align="left"><p></p>
<ul>
<li><p>Для групп доступа до 40 имеется линейное (примерно 3x) приращение времени ответа на время приема-передачи на сервере публикации.</p></li>
</ul></td>
</tr>
</tbody>
</table>

 

В следующей таблице показаны примеры значений для каждого из предыдущих факторов. В каждом варианте пакеты 120 обновляются с сервера управления App-V 5.0.

<table>
<colgroup>
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Сценарий</th>
<th align="left">Вариант</th>
<th align="left">Количество групп соединения</th>
<th align="left">Количество групп доступа</th>
<th align="left">Количество серверов публикаций</th>
<th align="left">Сервер или сервер управления публикации типа сетевого подключения</th>
<th align="left">Время ответа цикла обработки на сервере публикаций (в секундах)</th>
<th align="left">Использование ЦП на сервере управления</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>Серверы публикации одновременные связи с сервером управления для публикации метаданных.</p></td>
<td align="left"><p>Количество серверов публикаций</p></td>
<td align="left"><p></p>
<ul>
<li><p>до</p></li>
<li><p>до</p></li>
<li><p>до</p></li>
<li><p>до</p></li>
<li><p>до</p></li>
<li><p>до</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>1,1</p></li>
<li><p>1,1</p></li>
<li><p>1,1</p></li>
<li><p>1,1</p></li>
<li><p>1,1</p></li>
<li><p>1,1</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>50</p></li>
<li><p>100</p></li>
<li><p>200</p></li>
<li><p>300</p></li>
<li><p>315</p></li>
<li><p>320</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>5</p></li>
<li><p>5-10</p></li>
<li><p>19</p></li>
<li><p>32</p></li>
<li><p>30</p></li>
<li><p>37</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>18</p></li>
<li><p>18</p></li>
<li><p>18</p></li>
<li><p>10-15</p></li>
<li><p>18</p></li>
<li><p>10-15</p></li>
</ul></td>
</tr>
<tr class="even">
<td align="left"><p>Метаданные публикации содержат группы подключений</p></td>
<td align="left"><p>Количество групп соединения</p></td>
<td align="left"><p></p>
<ul>
<li><p>5-10</p></li>
<li><p>50</p></li>
<li><p>100</p></li>
<li><p>150</p></li>
<li><p>300</p></li>
<li><p>400</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>1,1</p></li>
<li><p>1,1</p></li>
<li><p>1,1</p></li>
<li><p>1,1</p></li>
<li><p>1,1</p></li>
<li><p>1,1</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>100</p></li>
<li><p>100</p></li>
<li><p>100</p></li>
<li><p>100</p></li>
<li><p>100</p></li>
<li><p>100</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>5-10</p></li>
<li><p>11</p></li>
<li><p>11</p></li>
<li><p>шестнадцат</p></li>
<li><p>максималь</p></li>
<li><p>24</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>18</p></li>
<li><p>19</p></li>
<li><p>максималь</p></li>
<li><p>19</p></li>
<li><p>средняя</p></li>
<li><p>средняя</p></li>
</ul></td>
</tr>
<tr class="odd">
<td align="left"><p>Метаданные публикации содержат группы доступа</p></td>
<td align="left"><p>Количество групп доступа</p></td>
<td align="left"><p></p>
<ul>
<li><p>до</p></li>
<li><p>до</p></li>
<li><p>до</p></li>
<li><p>до</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>1,1</p></li>
<li><p>5-10</p></li>
<li><p>средняя</p></li>
<li><p>40</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>100</p></li>
<li><p>100</p></li>
<li><p>100</p></li>
<li><p>100</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>5-10</p></li>
<li><p>43</p></li>
<li><p>153</p></li>
<li><p>535</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>18</p></li>
<li><p>26</p></li>
<li><p>24</p></li>
<li><p>24</p></li>
</ul></td>
</tr>
</tbody>
</table>

 

Загрузка ЦП на компьютере, на котором работает сервер управления, составляет около 25%, независимо от количества серверов публикации, на которых она нацелена. Количество транзакций в базе данных Microsoft SQL Server (в секунду) запросы пакетов в секунду и соединения пользователя идентичны, независимо от количества серверов публикации. Например: Transactions/sec составляет ~ 30, пакетные запросы ~ 200, а пользователь соединяет ~ 6.

Если вы используете географически распределенное развертывание, где сервер управления & серверы публикации используют сеть медленного канала связи между ними, время кругового приема на серверах публикации выходит за допустимые пределы ( &lt; 5 секунд), даже для 100 одновременных запросов на одном сервере управления.

<table>
<colgroup>
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Сценарий</th>
<th align="left">Вариант</th>
<th align="left">Количество групп соединения</th>
<th align="left">Количество групп доступа</th>
<th align="left">Количество серверов публикаций</th>
<th align="left">Сервер или сервер управления публикации типа сетевого подключения</th>
<th align="left">Время ответа цикла обработки на сервере публикаций (в секундах)</th>
<th align="left">Использование ЦП на сервере управления</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>Сетевое соединение между сервером публикации и сервером управления</p></td>
<td align="left"><p>Сеть 1,5 Мбит/с медленной связью</p></td>
<td align="left"><p></p>
<ul>
<li><p>до</p></li>
<li><p>до</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>1,1</p></li>
<li><p>1,1</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>50</p></li>
<li><p>100</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>1,5 Мбит/с, кабель DSL</p></li>
<li><p>1,5 Мбит/с, кабель DSL</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>четырехпроцессорном</p></li>
<li><p>5</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>1,1</p></li>
<li><p>2</p></li>
</ul></td>
</tr>
<tr class="even">
<td align="left"><p>Сетевое соединение между сервером публикации и сервером управления</p></td>
<td align="left"><p>Сеть ЛС/WIFI</p></td>
<td align="left"><p></p>
<ul>
<li><p>до</p></li>
<li><p>до</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>1,1</p></li>
<li><p>1,1</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>100</p></li>
<li><p>200</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>Wifi</p></li>
<li><p>Wifi</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>11</p></li>
<li><p>средняя</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>10-15</p></li>
<li><p>18</p></li>
</ul></td>
</tr>
</tbody>
</table>

 

Подключены ли сервер управления и серверы публикаций по медленному каналу связи или высокоскоростной сети, сервер управления может обрабатывать около 15 000 запросов на обновление пакетов в течение 30 минут.

## <a href="" id="---------app-v-5-0-reporting-server-capacity-planning-recommendations"></a> Рекомендации по планированию мощности сервера для App-V 5,0


Клиенты App-V 5,0 отправляют данные отчета на сервер отчетов. Затем сервер отчетов записывает данные в базу данных Microsoft SQL Server и возвращает успешное уведомление на компьютер, на котором запущен клиент App-V 5,0. Дополнительные сведения о конфигурациях поддерживаемые сервером отчетов App-V 5,0 можно найти в статьях [Поддерживаемые конфигурации App-v 5,0](app-v-50-supported-configurations.md).

**Примечание**  Время ответа цикла обработки — это время, затраченное на компьютере, на котором запущен клиент App-V 5,0 для отправки данных отчетов на сервер отчетов и получения уведомления об успешном уведомлении от сервера отчетов.

 

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Сценарий</th>
<th align="left">Краткий обзор</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>Несколько клиентов App-V 5,0 отправляют данные отчетов на сервер отчетов одновременно.</p></td>
<td align="left"><p></p>
<ul>
<li><p>Время ответа от сервера отчетов составляет 2,6 секунд для клиентов 500.</p></li>
<li><p>Время ответа от сервера отчетов составляет 5,65 секунд для клиентов 1000.</p></li>
<li><p>Время реагирования на круговую передачу в зависимости от количества клиентов возрастает в линейном режиме.</p></li>
</ul></td>
</tr>
<tr class="even">
<td align="left"><p>Количество запросов в секунду, обработанных сервером отчетов.</p>
<p></p></td>
<td align="left"><p></p>
<ul>
<li><p>Один сервер отчетов и единая база данных могут обрабатывать не более 139 запросов в секунду. Среднее значение составляет 121 запросов в секунду.</p></li>
<li><p>Используя два сервера отчетов для одной базы данных Microsoft SQL Server, средние запросы на секунду похожи на один сервер отчетов = ~ 127, с максимальным количеством запросов 278 в секунду.</p></li>
<li><p>Один сервер отчетов может обрабатывать одновременные и активные соединения 500.</p></li>
<li><p>Один сервер отчетов может обрабатывать максимум 1500 одновременных подключений.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td align="left"><p>База данных отчетов.</p>
<p></p></td>
<td align="left"><p></p>
<ul>
<li><p>Конфликт блокировки на компьютере с Microsoft SQL Server — это ограничивающий коэффициент запросов в секунду.</p></li>
<li><p>Пропускная способность и время отклика не зависят от размера базы данных.</p></li>
</ul></td>
</tr>
</tbody>
</table>

 

**Расчет случайной задержки**:

Случайная задержка определяет максимальную задержку (в минутах) для данных, отправляемых на сервер отчетов. При запуске запланированной задачи клиент создает произвольную задержку от **0** до **ReportingRandomDelay** и ждет указанное время перед отправкой данных.

Произвольная задержка = 4 \ * количество клиентов/среднее число запросов в секунду.

Пример: для клиентов 500 с количеством запросов 120 в секунду случайная задержка — 4 \ * 500/120 = ~ 17 минут.

## <a href="" id="---------app-v-5-0-publishing-server-capacity-planning-recommendations"></a> Рекомендации по планированию производительности сервера App-V 5,0


Компьютеры, на которых работает клиент App-V 5,0, подключаются к серверу публикации App-v 5,0 для отправки запроса на обновление публикации и получения ответа. Время отклика на круговую передачу измеряется на компьютере, на котором запущен клиент App-V 5,0. Время процессора измеряется на сервере публикаций. Дополнительные сведения о конфигурациях, поддерживаемых сервером публикаций App-V 5,0, приведены в разделе [Поддерживаемые конфигурации App-v 5,0](app-v-50-supported-configurations.md).

**Важно!**  В списке ниже приведены основные факторы, которые необходимо учитывать при настройке сервера публикаций App-V 5,0.

-   Количество клиентов, которые одновременно подключаются к одному серверу публикаций.

-   Количество пакетов в каждом обновлении.

-   Доступная пропускная способность сети между клиентом и сервером публикаций App-V 5,0.

 

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Сценарий</th>
<th align="left">Краткий обзор</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>Несколько клиентов App-V 5,0 подключаются к одному серверу публикаций одновременно.</p></td>
<td align="left"><p></p>
<ul>
<li><p>Сервер публикаций, использующий два ядра процессора, может отвечать не более чем на 5000 клиентов, которые запрашивают обновление одновременно.</p></li>
<li><p>Для клиентов 5000-10000 для сервера публикаций требуется не менее четырех ядер.</p></li>
<li><p>Для клиентов 10000-20000 сервер публикаций должен иметь два четырехъядерных ядра для более эффективного отклика.</p></li>
<li><p>Сервер публикаций с четырехъядерным процессором может обновлять до 10000 пакетов в течение 3 секунд. (Поддержка одновременных клиентов 10000)</p></li>
</ul></td>
</tr>
<tr class="even">
<td align="left"><p>Количество пакетов в каждом обновлении.</p>
<p></p></td>
<td align="left"><p></p>
<ul>
<li><p>Увеличение количества пакетов увеличит время отклика на ~ 40% (до 1000 пакетов).</p></li>
</ul></td>
</tr>
<tr class="odd">
<td align="left"><p>Сеть между клиентом App-V 5,0 и сервером публикации.</p>
<p></p></td>
<td align="left"><p></p>
<ul>
<li><p>В течение медленной сети (1,5 Мбит/с) время ответа увеличивается на 97% (до 1000 пользователей).</p></li>
</ul></td>
</tr>
</tbody>
</table>

 

**Примечание**  Использование ЦП сервера публикаций всегда велико в течение интервала времени, когда он должен обрабатывать одновременные запросы ( &gt; 90% в большинстве случаев). Сервер публикаций может обрабатывать запросы ~ 1500 клиента через 1 секунду.

 

<table>
<colgroup>
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Сценарий</th>
<th align="left">Вариант</th>
<th align="left">Число клиентов App-V 5,0</th>
<th align="left">Количество пакетов</th>
<th align="left">Конфигурация процессора на сервере публикаций</th>
<th align="left">Сервер публикации или приложение App-5,0 V типа "Сетевое подключение"</th>
<th align="left">Время кругового обращения в клиенте App-V 5,0 (в секундах)</th>
<th align="left">Загрузка ЦП на сервере публикаций (в%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>Клиент App-V 5,0 отправляет запрос на обновление публикации &amp; , каждый запрос содержит пакеты 120.</p></td>
<td align="left"><p>Количество клиентов</p></td>
<td align="left"><p></p>
<ul>
<li><p>100</p></li>
<li><p>1000</p></li>
<li><p>5000</p></li>
<li><p>10000</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>120</p></li>
<li><p>120</p></li>
<li><p>120</p></li>
<li><p>120</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>Двухъядерный процессор</p></li>
<li><p>Двухъядерный процессор</p></li>
<li><p>Четырехъядерный процессор</p></li>
<li><p>Четырехъядерный процессор</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>1,1</p></li>
<li><p>2</p></li>
<li><p>2</p></li>
<li><p>Трехконтактный</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>100</p></li>
<li><p>99</p></li>
<li><p>89</p></li>
<li><p>77</p></li>
</ul></td>
</tr>
<tr class="even">
<td align="left"><p>Несколько пакетов в каждом обновлении</p></td>
<td align="left"><p>Количество пакетов</p></td>
<td align="left"><p></p>
<ul>
<li><p>1000</p></li>
<li><p>1000</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>500</p></li>
<li><p>1000</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>Четырехъядерный процессор</p></li>
<li><p>Четырехъядерный процессор</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>2</p></li>
<li><p>Трехконтактный</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>92</p></li>
<li><p>91</p></li>
</ul></td>
</tr>
<tr class="odd">
<td align="left"><p>Сеть между клиентом и сервером публикаций</p></td>
<td align="left"><p>сеть 1,5 Мбит/с медленной связью</p></td>
<td align="left"><p></p>
<ul>
<li><p>100</p></li>
<li><p>500</p></li>
<li><p>1000</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>120</p></li>
<li><p>120</p></li>
<li><p>120</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>Четырехъядерный процессор</p></li>
<li><p>Четырехъядерный процессор</p></li>
<li><p>Четырехъядерный процессор</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>1,5 Мбит/с в пределах континентальные сети</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>Трехконтактный</p></li>
<li><p>10 (с количеством сбоев 0,2%)</p></li>
<li><p>17 (с количеством сбоев 1%)</p></li>
</ul></td>
<td align="left"><p></p></td>
</tr>
</tbody>
</table>

 

## <a href="" id="---------app-v-5-0-streaming-capacity-planning-recommendations"></a> Рекомендации по планированию мощности потоков App-V 5,0


Компьютеры, на которых выполняется поток клиента App-V 5,0, виртуальный пакет приложения от сервера потоков. Время отклика на круговую передачу измеряется на компьютере, на котором запущен клиент App-V 5,0, а также время, затраченное на потоковую передачу всего пакета.

**Важно!**  В следующем списке приведены основные факторы, которые необходимо учитывать при настройке потокового сервера App-V 5,0:

-   Количество клиентов, одновременно выполняющих потоковую передачу пакетов приложения с одного сервера потоковой передачи.

-   Размер пакета, который передается в потоке.

-   Доступная пропускная способность сети между клиентом и сервером потоковой передачи данных.

 

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Сценарий</th>
<th align="left">Краткий обзор</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>Несколько клиентов App-V 5,0 одновременные потоковые приложения на одном поток-сервере.</p></td>
<td align="left"><p></p>
<ul>
<li><p>Если количество клиентов, одновременно выполняющих потоковую передачу на одном и том же сервере, будет увеличиваться, существует линейная связь с пакетом для загрузки/потокового времени.</p></li>
</ul></td>
</tr>
<tr class="even">
<td align="left"><p>Размер пакета, который передается в потоке.</p>
<p></p></td>
<td align="left"><p></p>
<ul>
<li><p>Размер пакета имеет значительное влияние на потоковую передачу и время загрузки только для больших пакетов размером ~ 1 ГБ. Для размеров пакета от 3 до 100 МБ количество потоков в диапазоне от 20 до 100 секунд с 100 одновременных клиентов.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td align="left"><p>Сеть между клиентом App-V 5,0 и потоковым сервером.</p>
<p></p></td>
<td align="left"><p></p>
<ul>
<li><p>В течение медленной сети (1,5 Мбит/с) время ответа увеличивается на 70-80% (до 100 пользователей).</p></li>
</ul></td>
</tr>
</tbody>
</table>

 

В следующей таблице показаны примеры значений для каждого из факторов, описанных в предыдущем списке.

<table style="width:100%;">
<colgroup>
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Сценарий</th>
<th align="left">Вариант</th>
<th align="left">Число клиентов App-V 5,0</th>
<th align="left">Размер каждого пакета</th>
<th align="left">Сервер потоков данных сетевого подключения (App-V), клиент 5,0</th>
<th align="left">Время кругового обращения в клиенте App-V 5,0 (в секундах)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><p>Несколько клиентов App-V 5,0 попотоковые пакеты виртуальных приложений с потокового сервера.</p></td>
<td align="left"><p>Количество клиентов.</p></td>
<td align="left"><p></p>
<ul>
<li><p>100</p></li>
<li><p>200</p></li>
<li><p>1000</p></li>
<li><p></p></li>
<li><p>100</p></li>
<li><p>200</p></li>
<li><p>1000</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>3,5 MБ</p></li>
<li><p>3,5 MБ</p></li>
<li><p>3,5 MБ</p></li>
<li><p></p></li>
<li><p>5 МБ</p></li>
<li><p>5 МБ</p></li>
<li><p>5 МБ</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p></p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>составляет</p></li>
<li><p>39</p></li>
<li><p>391</p></li>
<li><p></p></li>
<li><p>35</p></li>
<li><p>68</p></li>
<li><p>461</p></li>
</ul></td>
</tr>
<tr class="even">
<td align="left"><p>Размер каждого пакета, который передается в потоке.</p></td>
<td align="left"><p>Размер каждого пакета.</p></td>
<td align="left"><p></p>
<ul>
<li><p>100</p></li>
<li><p>200</p></li>
<li><p></p></li>
<li><p>100</p></li>
<li><p>200</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>21 МБАЙТ</p></li>
<li><p>21 МБАЙТ</p></li>
<li><p></p></li>
<li><p>109</p></li>
<li><p>109</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
<li><p></p></li>
<li><p>Локальная сеть</p></li>
<li><p>Локальная сеть</p></li>
</ul></td>
<td align="left"><p></p>
<p>33</p>
<p>83</p>
<p></p>
<p>100</p>
<p>160</p></td>
</tr>
<tr class="odd">
<td align="left"><p>Сетевое соединение между клиентом и приложением-V 5,0 Streaming Server.</p></td>
<td align="left"><p>1,5 Мбит/с медленной связью сети.</p></td>
<td align="left"><p></p>
<ul>
<li><p>100</p></li>
<li><p></p></li>
<li><p>100</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>3,5 MБ</p></li>
<li><p></p></li>
<li><p>5 МБ</p></li>
</ul></td>
<td align="left"><p></p>
<ul>
<li><p>1,5 Мбит/с в пределах континентальные сети</p></li>
</ul></td>
<td align="left"><p></p>
<p>102</p>
<p></p>
<p>121</p></td>
</tr>
</tbody>
</table>

 

Каждый потоковый сервер App-V 5,0 должен обрабатывать 200 минимум одновременных потоков приложений, поддерживающих виртуализацию.

**Примечание**  Фактическое время на этот поток будет определяться в первую очередь количеством потоков на клиентах, число пакетов, размер пакета, сетевая активность сервера и условия сети.

 

Например, пользователь может перечислить пакет 100 МБ менее чем на 2 минуты, когда 100 одновременных клиентов переносят потоковую передачу на сервер. Однако пакет размером 1 ГБ может занять до 30 минут. В большинстве реальных сред потребность в потоковых данных не распределена равномерно, вам необходимо понять приблизительные пиковые требования к потоковой передаче в среде для правильного изменения числа требуемых потоков серверов.

Количество клиентов, которые может поддерживать потоковый сервер, может быть значительно увеличено, а пиковые требования к потоковой передаче уменьшились при предварительном кэшировании приложений. Вы также можете увеличивать количество клиентов, которые может поддерживать потоковый сервер, с помощью доставки потоковой передачи по требованию и оптимизированных потоков.

## Объединение ролей сервера App-V 5,0


Скидка на масштабирование и отказоустойчивость, минимальное количество серверов, необходимое для расположения с подключением к службе каталогов Active Directory, — это один из них. На этом сервере будут размещены сервер управления, служба сервера управления и роли Microsoft SQL Server. Таким образом, роли сервера можно упорядочить по любой нужной комбинации, так как они не конфликтуют друг с другом.

Игнорируя требования масштабирования, минимальное количество серверов, необходимых для обеспечения отказоустойчивой реализации, — четыре. Сервер управления и поддержка ролей Microsoft SQL Server размещаются в отказоустойчивых конфигурациях. Службу сервера управления можно объединить с любой из ролей, но при этом останется единственная точка сбоя.

Несмотря на то, что существует ряд стратегий и технологий отказоустойчивости, не все применимы к данной службе. Кроме того, если роли App-V 5,0 объединены, некоторые параметры отказоустойчивости могут больше не применяться из-за несовместимости.






## Статьи по теме


[Поддерживаемые конфигурации в App-V 5.0](app-v-50-supported-configurations.md)

[Планирование для обеспечения высокой доступности при использовании App-V 5.0](planning-for-high-availability-with-app-v-50.md)

[Планирование развертывания App-V](planning-to-deploy-app-v.md)

 

 





