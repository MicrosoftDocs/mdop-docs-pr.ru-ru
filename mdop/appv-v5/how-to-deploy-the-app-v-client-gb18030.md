---
title: Развертывание клиента App-V
description: Развертывание клиента App-V
ms.author: dansimp
author: dansimp
ms.assetid: 9c4e67ae-ddaf-4e23-8c16-72d029a74a27
ms.reviewer: ''
manager: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 11/05/2018
ms.openlocfilehash: 4e246e13bf59f167eade77200afd866c6a3c41fe
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/26/2020
ms.locfileid: "10814120"
---
# Развертывание клиента App-V


Чтобы установить клиент служб Microsoft Application Virtualization (App-V) 5,0 и клиент службы удаленных рабочих столов, выполните указанные ниже действия. Необходимо установить версию клиента, соответствующую операционной системе целевого компьютера.

<a href="" id="bkmk-clt-install-prereqs"></a>**Что необходимо сделать перед началом работы**

1. Проверьте и установите необходимые компоненты программного обеспечения.

   Установите необходимое программное обеспечение, соответствующее версии App-V, которую вы устанавливаете:

   - [Сведения об App-V 5.0 с пакетом обновления 3 (SP3)](about-app-v-50-sp3.md)

   - App-V 5,0 SP1 и App-V 5,0 SP2 – новые требования в этих версиях не допускают

   - [Предварительные требования App-V 5.0](app-v-50-prerequisites.md)

2. Проверка сосуществования клиентов и неподдерживаемых сценариев, применимых к установке:


   |                                               |                                                                                                                            |
   |-----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------|
   |      Развертывание существующих клиентов App-V       | [Планирование развертывания программы Sequencer и клиента App-V 5.0](planning-for-the-app-v-50-sequencer-and-client-deployment.md) |
   | Неподдерживаемые или ограниченные сценарии установки |                         [Поддерживаемые конфигурации в App-V 5.0](app-v-50-supported-configurations.md)                         |

   ---

3. Ознакомьтесь со сведениями о поиске и устранении неполадок в реестре клиента.

#### Сведения о клиентском реестре
<ul><li>По умолчанию после установки клиента App-V 5,0 сведения о клиенте хранятся в реестре в следующем разделе реестра:<p><p><code>HKEY_LOCAL_MACHINE\SOFTWARE\MICROSOFT\APPV\CLIENT</code></li><li>При развертывании виртуализированного пакета на компьютере, на котором запущен клиент App-V, связанные данные пакета хранятся в следующем расположении:<p><p><code>C:\ProgramData\App-V</code><p><p>Однако вы можете изменить это расположение с помощью следующего раздела реестра:<p><p><code>HKEY_LOCAL_MACHINE\SOFTWARE\MICROSOFT\SOFTWARE\MICROSOFT\APPV\CLIENT\STREAMING\PACKAGEINSTALLATIONROOT</code></li></ul>

#### Файлы журнала клиента                  
<ul><li>Сведения о файле журнала, связанном с клиентом App-V 5,0, можно найти в следующем журнале:<p><p><code>Event logs/Applications and Services Logs/Microsoft/AppV</code></li><li>В приложении App-V 5,0 с пакетом обновления 3 (SP3) некоторые журналы были объединены и перемещены в следующее расположение:<p><p><code>Event logs/Applications and Services Logs/Microsoft/AppV/ServiceLog</code><p><p>Список перемещенных журналов можно найти в разделе [о приложении App-V 5,0 SP3](about-app-v-50-sp3.md#bkmk-event-logs-moved).</li><li>Пакеты, которые в настоящее время хранятся на компьютерах, на которых запущен клиент App-V 5,0, сохраняются в следующем расположении:<p><p><code>C:\ProgramData\App-V\<<em>package id</em>>\<<em>version id</em>></code></li></ul>

#### Сведения об устранении неполадок при установке клиента
- Просмотрите журнал ошибок в папке **% TEMP%** . 
- Чтобы просмотреть файлы журнала, нажмите кнопку **Пуск**, введите **% TEMP%**, а затем найдите **Журнал appv_**. 

## Установка клиента App-V 5,0

1. Скопируйте установочный файл для клиента App-V 5,0 на компьютер, на котором он будет установлен.<p><p>Выберите один из следующих типов клиентов:


   |                  Тип клиента                  |          Файл для использования          |
   |-----------------------------------------------|-------------------------------|
   |        Стандартная версия клиента         |   **appv_client_setup.exe**   |
   | Версия клиента служб удаленных рабочих столов | **appv_client_setup_rds.exe** |

   ---

2. Дважды щелкните файл установки и нажмите кнопку **установить**. Перед началом установки установщик проверяет на компьютере отсутствие [необходимых предварительных требований для App-V 5,0](app-v-50-prerequisites.md).

3. Прочтите и примите условия лицензионного соглашения на использование программного обеспечения, выберите, нужно ли использовать Microsoft Update и нужно ли принимать участие в программе улучшения качества по Майкрософт, и нажмите кнопку **установить**.

4. На странице **Настройка успешно завершена** нажмите кнопку **Закрыть**.

   При установке создаются следующие записи для клиента App-V в **приложениях**.

   -   **.exe**

   -   **.msi**

   -   **языковой пакет**

   >[!NOTE]
   >После установки можно удалить только exe – файл.


## Установка клиента App-V 5,0 с помощью сценария

1. Установите все необходимое программное обеспечение на целевые компьютеры. Узнайте, [что необходимо сделать перед](#bkmk-clt-install-prereqs)началом работы. Если вы установили клиент с помощью MSI-файла, то при отсутствии необходимых условий установка завершится сбоем.

2. Чтобы использовать сценарий для установки клиента App-V 5,0, используйте следующие параметры с **appv\_client\_setup.exe**.

   >[!NOTE]
   >Клиентский установщик Windows (MSI) поддерживает один и тот же набор переключателей, за исключением параметра **/log** .

   |                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   |----------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
   |           /INSTALLDIR            |                                                                                                                                                               Указывает каталог установки. Пример использования:<p><p>**/INSTALLDIR = C:\Program Files\AppV Client**                                                                                                                                                                |
   |            /CEIPOPTIN            |                                                                                                                                                          Включает участие в программе улучшения качества программного обеспечения. Пример использования:<p><p>**/CEIPOPTIN = [0 \ | 1 \]**                                                                                                                                                           |
   |             /MUOPTIN             |                                                                                                                                                                                 Включение центра обновления Майкрософт. Пример использования:<p><p>**/MUOPTIN = [0 \ | 1 \]**                                                                                                                                                                                  |
   |     /PACKAGEINSTALLATIONROOT     |                                                                                                                                         Задает каталог, в который устанавливаются все новые приложения и обновления. Пример использования: <p><p>**/PACKAGEINSTALLATIONROOT = "пакеты C:\App-V"**                                                                                                                                         |
   |        /PACKAGESOURCEROOT        |                                                                                                                                                  Переопределяет исходное расположение для загрузки содержимого пакета. Пример использования:<p><p>**/PACKAGESOURCEROOT = ' <http://packageStore> '**                                                                                                                                                  |
   |            /AUTOLOAD             |                                                                                           Указывает, как приложение App-V 5,0 будет загружать новые пакеты для определенного компьютера. Доступны следующие параметры: [1]; Автоматическая загрузка всех пакетов [2]; или автоматически загружает пакеты [0]. Пример использования:<p><p>**/AUTOLOAD = [0 \ | 1 \ | 2 \]**                                                                                           |
   |     /SHAREDCONTENTSTOREMODE      |                                                                                                                                           Указывает на то, что содержимое потокового пакета не будет сохранено на локальном жестком диске. Пример использования: <p><p>**/SHAREDCONTENTSTOREMODE = [0 \ | 1 \]**                                                                                                                                            |
   |          /MIGRATIONMODE          |                                                                                                                     Позволяет клиенту App-V 5,0 изменять сочетания клавиш и FTAs, связанные с пакетами, созданными с помощью более ранней версии. Пример использования:<p><p>**/MIGRATIONMODE = [0 \ | 1 \]**                                                                                                                     |
   |      /ENABLEPACKAGESCRIPTS       |                                                                                                                                   Включает сценарии, определенные в файле манифеста пакета или файлах конфигурации, которые должны выполняться. Пример использования:<p><p>**/ENABLEPACKAGESCRIPTS = [0 \ | 1 \]**                                                                                                                                   |
   |    /ROAMINGREGISTRYEXCLUSIONS    |                                                                                                                                      Указывает пути реестра, которые не будут перемещаться с помощью профиля пользователя. Пример использования:<p><p>**/ROAMINGREGISTRYEXCLUSIONS = software\classes; software\clients**                                                                                                                                      |
   |      /ROAMINGFILEEXCLUSIONS      |                                                                                                                                  Указывает пути к файлам относительно% UserProfile%, которые не перемещаются вместе с профилем пользователя. Пример использования: <p><p>**/ROAMINGFILEEXCLUSIONS "Рабочий стол; мои рисунки"**                                                                                                                                   |
   |   /S [1-5] PUBLISHINGSERVERNAME    |                                                                                                                                                           Отображает имя сервера публикаций. Пример использования:<p><p>**/S2PUBLISHINGSERVERNAME = MyPublishingServer**                                                                                                                                                            |
   |    /S [1-5] PUBLISHINGSERVERURL    |                                                                                                                                                                Отображает URL-адрес сервера публикаций. Пример использования:<p><p>**/S2PUBLISHINGSERVERURL = \\pubserver**                                                                                                                                                                |
   |   /S [1-5] GLOBALREFRESHENABLED    |                                                                                                                                                                    Включает глобальное обновление публикации. Пример использования:<p><p>**/S2GLOBALREFRESHENABLED = [0 \ | 1 \]**                                                                                                                                                                     |
   |   /S [1-5] GLOBALREFRESHONLOGON    |                                                                                                                                                             Инициирует глобальное обновление публикации при входе пользователя в систему. Пример использования:<p><p>**/S2LOGONREFRESH = [0 \ | 1 \]**                                                                                                                                                              |
   |   /S [1-5] GLOBALREFRESHINTERVAL   |                                                                                                                                         Указывает интервал обновления публикации, где **0** означает, что обновление не выполняется периодически. Пример использования: **/S2PERIODICREFRESHINTERVAL = [0-744]**                                                                                                                                         |
   | /S [1-5] GLOBALREFRESHINTERVALUNIT |                                                                                                                                                            Указывает единицу интервала (часы [0], дни [1]). Пример использования:<p><p>**/S2GLOBALREFRESHINTERVALUNIT = [0 \ | 1 \]**                                                                                                                                                            |
   |    /S [1-5] USERREFRESHENABLED     |                                                                                                                                                                          Включает обновление публикации пользователей. Пример использования: **/S2USERREFRESHENABLED = [0 \ | 1 \]**                                                                                                                                                                          |
   |    /S [1-5] USERREFRESHONLOGON     |                                                                                                                                                              Инициирует обновление публикации пользователя, когда пользователь входит в систему. Пример использования:<p><p>**/S2LOGONREFRESH = [0 \ | 1 \]**                                                                                                                                                               |
   |    /S [1-5] USERREFRESHINTERVAL    |                                                                                                                                         Указывает интервал обновления публикации, где **0** означает, что обновление не выполняется периодически. Пример использования: **/S2PERIODICREFRESHINTERVAL = [0-744]**                                                                                                                                         |
   |  /S [1-5] USERREFRESHINTERVALUNIT  |                                                                                                                                                             Указывает единицу интервала (часы [0], дни [1]). Пример использования:<p><p>**/S2USERREFRESHINTERVALUNIT = [0 \ | 1 \]**                                                                                                                                                             |
   |               /Log               |                                                                                                                                                Задает расположение, в котором сохраняются данные журнала. По умолчанию используется расположение% Temp%. Пример использования:<p><p>**/log C:\logs\log.log**                                                                                                                                                |
   |                /q                |                                                                                                                                                                                                Указывает на автоматическую установку.                                                                                                                                                                                                |
   |             /REPAIR              |                                                                                                                                                                                               Восстановление предыдущей версии клиента.                                                                                                                                                                                               |
   |            /NORESTART            | Предотвращает перезагрузку компьютера после установки клиента.<p><p>Этот параметр предотвращает перезагрузку компьютера конечного пользователя после установки каждого обновления и позволяет запланировать перезагрузку в удобное для вас время. Например, можно установить приложение App-V 5,0 SPX, а затем установить пакет исправлений Y без перезагрузки после установки пакета обновления. После установки необходимо перезагрузить компьютер, прежде чем приступить к работе с приложением-V. |
   |            /UNINSTALL            |                                                                                                                                                                                                       Удаление клиента.                                                                                                                                                                                                        |
   |           /ACCEPTEULA            |                                                                                                                                              Принимает лицензионное соглашение. Это необходимо для автоматической установки. Пример использования:<p><p>**/ACCEPTEULA** или **/ACCEPTEULA = 1**                                                                                                                                               |
   |             /LAYOUT              |                                                                                                                               Задает связанное действие макета. Кроме того, приложение App-V 5,0 будет извлечено из файла установщика Windows (MSI) и файлов сценариев в папку. Значение не ожидается.                                                                                                                                |
   |            /LAYOUTDIR            |                                                                                                                                                 Указывает каталог макета. Требуется строковое значение. Пример использования:<p><p>**/LAYOUTDIR = "клиент виртуализации C:\Application"**                                                                                                                                                  |
   |          /?,/h,/Help           |                                                                                                                                                                                      Запросы на помощь по предыдущим параметрам установки.                                                                                                                                                                                      |

   ---

## Установка клиента App-V 5,0 с помощью файла установщика Windows (MSI)

1. Установите необходимые компоненты на целевые компьютеры. Узнайте, [что необходимо сделать перед](#bkmk-clt-install-prereqs)началом работы. Если какие – либо условия не выполняются, установка завершится сбоем.

2. Убедитесь, что на конечных компьютерах нет отложенных перезапусков перед установкой клиента с помощью файлов установщика Windows App-V 5,0 (MSI). Файлы установщика Windows не помечают отложенный перезапуск.

3. Развернуть один из указанных ниже файлов установщика Windows на целевом компьютере. Указанный вами файл должен соответствовать конфигурации целевого компьютера.


   |                       Тип развертывания                        |      Развертывание файла       |
   |-----------------------------------------------------------------|-----------------------------|
   | Компьютер работает под управлением 32-разрядной операционной системы Microsoft Windows |   appv_client_MSI_x86.msi   |
   | Компьютер работает под управлением 64-разрядной операционной системы Microsoft Windows |   appv_client_MSI_x64.msi   |
   | Вы разворачиваете клиент служб удаленных рабочих столов App-V 5,0  | appv_client_rds_MSI_x64.msi |

   ---

4. В соответствии с приведенной ниже таблицей выберите соответствующий языковой пакет **. msi** для установки на основе нужного языка для целевого компьютера. **XXXX** в таблице указывает целевой языковой стандарт для языкового пакета.

   **Что нужно знать перед началом работы:** 

   -  Языковые пакеты являются общими для стандартного клиента App-V 5,0 и версии служб удаленных рабочих столов клиента App-V 5,0.

   -  Если вы установили клиент App-V 5,0 с помощью **exe**, установщик развернет только языковой пакет, соответствующий операционной системе, работающей на целевом компьютере.

   -  Чтобы развернуть дополнительные языковые пакеты на целевом компьютере, выполните описанные ниже действия, **чтобы установить клиент App-V 5,0 с помощью файла установщика Windows (MSI)**.

   |                       Тип развертывания                        |       Развертывание файла       |
   |-----------------------------------------------------------------|------------------------------|
   | Компьютер работает под управлением 32-разрядной операционной системы Microsoft Windows | appv_client_LP_xxxx_ x86.msi |
   | Компьютер работает под управлением 64-разрядной операционной системы Microsoft Windows | appv_client_LP_xxxx_ x64.msi |

   ---

   **У вас есть предложение App-V**? Добавляйте и проголосуйте по [предложениям](http://appv.uservoice.com/forums/280448-microsoft-application-virtualization). <p><p>**У вас возникла ошибка App-V?** Используйте [Форум TechNet App-V](https://social.technet.microsoft.com/Forums/home?forum=mdopappv).

## Статьи по теме


[Развертывание App-V 5.0](deploying-app-v-50.md)

[Сведения о параметрах конфигурации клиента](about-client-configuration-settings.md)

[Удаление клиента App-V 5.0](how-to-uninstall-the-app-v-50-client.md)
