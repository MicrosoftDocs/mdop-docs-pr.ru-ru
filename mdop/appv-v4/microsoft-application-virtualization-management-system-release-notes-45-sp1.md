---
title: Заметки о выпуске системы управления виртуализацией приложений Microsoft 4,5 SP1
description: Заметки о выпуске системы управления виртуализацией приложений Microsoft 4,5 SP1
author: dansimp
ms.assetid: 5d6b11ea-7b87-4084-9a7c-0d831f247aa3
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 08/30/2016
ms.openlocfilehash: 5c24d2e98ad09460ca22e4b29d75ae2b9c72d0bf
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/26/2020
ms.locfileid: "10816159"
---
# Заметки о выпуске системы управления виртуализацией приложений Microsoft 4,5 SP1


Чтобы найти заметки о выпуске, нажмите клавиши CTRL + F.

**Важно!**  Внимательно прочтите эти заметки о выпуске, прежде чем устанавливать систему управления виртуализацией приложений. Эти заметки о выпуске содержат сведения, необходимые для успешной установки системы управления виртуализацией приложений. Эти заметки о выпуске содержат сведения, недоступные в документации по продукту. Если в этих заметках о выпуске и другой документации системы управления виртуализацией приложений есть несоответствие, Последнее изменение должно считаться полномочным.

 

Чтобы получить обновленные сведения об известных проблемах, откройте библиотеку Microsoft TechNet по адресу <https://go.microsoft.com/fwlink/?LinkId=122918> .

## Сведения о Microsoft Application Virtualization 4,5 с пакетом обновления 1 (SP1)


Эти заметки о выпуске обновлены, чтобы отразить изменения, внесенные в Microsoft Application Virtualization (App-V) 4.5 Service Pack1 (SP1). Этот пакет обновления включает указанные ниже изменения.

-   Поддержка Windows 7 и Windows Server 2008 R2: App-V 4,5 SP1 предоставляет поддержку для Windows 7 и Windows Server 2008 R2, включая поддержку таких функций Windows 7, как панель задач, AppLocker, BranchCache и BitLocker to go.Поддержка Windows Server 2008 R2 предназначена только для серверов Application Virtualization Server. Дополнительные сведения о поддержке AppLocker в Windows 7 приведены в разделе <https://go.microsoft.com/fwlink/?LinkID=156732> .

-   Поддержка для сторонних сфер Kerberos: App-V 4,5 SP1 обеспечивает поддержку сред с отношением доверия и сопоставленными учетными записями пользователей между доменом Windows и сферой MIT Kerberos, который является сценарием, который является общим для многих университетов. Сведения о том, как включить эту поддержку, можно найти в библиотеке Microsoft TechNet по адресу <https://go.microsoft.com/fwlink/?LinkId=166004> .

-   Улучшенная поддержка публикации и потоковой передачи приложений через HTTP/HTTPS: App-V 4,5 SP1 обеспечивает поддержку публикации и потоковой передачи приложений через протоколы HTTP/HTTPS для Windows XP Home Edition, Windows Vista Home Basic и Windows 7 Home Basic.

-   Сведения о отзывах и исправлениях для пользователей: App-V 4.5 SP1 также включает в себя свертку исправлений для устранения проблем, обнаруженных с момента выпуска Microsoft Application Virtualization (App-V) 4.5 CU1 Release. Обновления являются результатом сочетания известных проблем и отзывов пользователей из внутренних групп, партнеров и клиентов, использующих приложение App-V 4.5. Полный список обновлений можно найти в статье базы знаний по адресу <https://go.microsoft.com/fwlink/?LinkId=167121> :

## Сведения о документации по продукту


Подробная документация по виртуализации приложений (App-V) доступна в Microsoft TechNet в центре Application Virtualization (App-V) по адресу <https://go.microsoft.com/fwlink/?LinkId=122939> . В документации TechNet вы также включаете онлайн-справку для секвенсора Application Virtualization, клиента Application Virtualization и сервера Application Virtualization. Она также включает руководство по планированию и развертыванию Application Virtualization и руководство по работе с Application Virtualization.

## Защита от уязвимостей и вирусов в системе безопасности


Для защиты от уязвимостей и вирусов в системе безопасности рекомендуется установить последние обновления для системы безопасности для любого нового установленного программного обеспечения. Дополнительные сведения можно найти на веб-сайте Microsoft Security <https://go.microsoft.com/fwlink/?LinkId=3482> .

## Предоставление обратной связи


Вы можете отправить отзыв, внести предложение или сообщить о проблеме в системе управления Microsoft Application Virtualization (App-V) с помощью форума сообщества в TechCenter Microsoft Application Virtualization ( <https://go.microsoft.com/fwlink/?LinkId=122917> ).

Вы также можете предоставить отзыв документации непосредственно в группу документации App-V. Отправьте отзыв о документации в appvdocs@microsoft.com.

## Известные проблемы с Application Virtualization 4.5 с пакетом обновления 1 (SP1)


Этот раздел содержит наиболее актуальные сведения о проблемах, возникающих при использовании Microsoft Application Virtualization (App-V) 4.5 с пакетом обновления 1 (SP1). Эти проблемы не отображаются в документации на продукт, и в некоторых случаях может привести к противоречию с существующим документом о продукте. Если это возможно, эти проблемы будут рассмотрены в более поздних выпусках программного обеспечения.

### Руководство по установке консоли управления сервером

Если вам нужно установить программное обеспечение для управления на системах, отличных от основного сервера публикации и потоковой передачи приложений, установка сервера поддерживает установку консоли управления и веб-службы управления на разных серверах с основного сервера управления App-V. Чтобы распространить компоненты управления на нескольких серверах, необходимо включить делегирование Kerberos на сервере, на котором установлена веб-служба. Сведения о том, как включить эту поддержку, можно найти в библиотеке Microsoft TechNet по адресу <https://go.microsoft.com/fwlink/?LinkId=166682>

### Руководство по установке и обновлению клиентов до App-V 4.5 SP1 с помощью setup.msi

При установке и обновлении клиентов App-V до версии App-V 4,5 SP1 с помощью setup.msi необходимые компоненты не устанавливаются автоматически.

WORKAROUNDYou необходимо установить необходимые компоненты вручную перед установкой или обновлением клиента App-V toApp-V 4,5 с пакетом обновления 1 (SP1). Подробные инструкции по установке необходимых компонентов и клиента App-V можно найти в разделе <https://go.microsoft.com/fwlink/?LinkId=144106> .

После завершения установки установите клиент App-V 4,5 SP1, используя setup.msi с повышенными привилегиями. Этот файл доступен на носителе с выпуском App-V 4,5 с пакетом обновления 1 (SP1) в папке Installers\\Client.

При установке отчетов об ошибках приложений Microsoft используйте следующую команду, если вы устанавливаете и обновляете классическое приложение App-V 4,5 с пакетом обновления 1 (SP1).

    msiexec /i dw20shared.msi APPGUID={93468B43-C19D-44F9-8BCC-114076DB0443}  allusers=1 reboot=suppress REINSTALL=all REINSTALLMODE=vomus

Кроме того, если вы устанавливаете клиент App-V 4,5 SP1 для служб удаленных рабочих столов (ранее служб терминалов), вы можете выполнить следующую команду:

    msiexec /i dw20shared.msi APPGUID={0042AD3C-99A4-4E58-B5F0-744D5AD96E1C} allusers=1 reboot=suppress REINSTALL=all REINSTALLMODE=vomus

**Примечание**  Параметр APPGUID ссылается на код продукта, установленного или обновляемого клиента App-V. Код продукта уникален для каждого setup.msi. Вы можете использовать редактор базы данных Orca или аналогичное средство для проверки файлов установщика Windows и определения кода продукта. Этот этап необходим для всех установок и обновлений для App-V 4,5 SP1.

 

### Повышение производительности при виртуализации платформы .NET Framework

При виртуализации .NET Framework может снизиться производительность системы, так как служба Microsoft .NET Framework NGEN пытается предварительно скомпилировать сборки как фоновую задачу.

WORKAROUNDWhen, получив платформу .NET Framework, отключите службу Microsoft .NET Framework NGEN (mscorsvw.exe) после завершения этапа мониторинга. Необходимо использовать вкладку **виртуальных служб** в секвенсоре и изменить тип запуска на отключено.

### При удалении клиента Microsoft Application Virtualization пользовательские параметры, связанные с пользователем, который удаляет удаление, будут удалены.

При удалении клиента App-V установщик Windows удалит параметры виртуализации приложений из профиля текущего пользователя. Если на вашем компьютере используются перемещаемые профили, не используйте личную сетевую учетную запись для удаления клиента, так как в этом случае удаляются параметры виртуальных приложений на всех компьютерах.

WORKAROUNDYou следует выполнить удаление клиента App-V с помощью учетной записи администратора, которая не используется для запуска виртуальных приложений.

### Изменения, внесенные в виртуальной файловой системе и на вкладках виртуальных разделов реестра, должны сохраняться при запуске мастера виртуализации

Если вы открыли пакет для выполнения обновления или уже запустили мастер виртуализации с новым пакетом и вносите изменения в пакет в виртуальной файловой системе или на вкладках виртуальных разделов реестра, эти изменения не сохраняются автоматически.

WORKAROUNDSave изменения перед повторной запуском мастера, чтобы убедиться, что они отражаются внутри виртуальной среды мастера.

### Командная строка должна быть запущена из командной строки с повышенными привилегиями

При использовании командной строки секвенсор не запрашивает повышение прав.

WORKAROUNDRun командной строки, используя командную строку с повышенными привилегиями.

### Имена переменных путей в OSD могут привести к ошибкам

Если вы получаете сообщение об ошибке 450478-1F702339-0000010B "имя каталога является недопустимым" при запуске виртуального приложения на клиенте, возможно, что переменная в OSD задана неправильно. Это может быть вызвано тем, что установщик приложения задает короткий путь во время последовательности.

WORKAROUNDRemove символ тильды из любой переменной CSID, которая существует в OSD файле.

### <a href="" id="correct-syntax-for-decodepath-parameter-for-command-line-sequencer-"></a>Правильный синтаксис для параметра DECODEPATH в командной строке Sequencer

В секвенсоре с помощью командной строки при открытии пакета для обновления и декодировании в корне диска Q параметр *DECODEPATH* не должен включать конечную косую черту.

WORKAROUNDYou может использовать **Q:** вместо **Q:\\** (пропуск завершающего знака \ \).

### <a href="" id="when-upgrading-4-2-packages--you-encounter-problems-caused-by-windows-installer-files-in-the-virtual-file-system-"></a>При обновлении пакетов 4.2 возникают проблемы, вызванные файлами установщика Windows в виртуальной файловой системе.

При обновлении пакета из 4.2 могут возникнуть проблемы, связанные с несоответствием системных файлов установщика Windows, которые были включены по умолчанию в 4.2, и библиотеках установщика Windows, локально установленных на станции виртуализации. Указанные ниже файлы находятся в CSID _SYSTEM \ \:

cabinet.dll

msi.dll

msiexec.exe

msihnd.dll

msimsg.dlll

WORKAROUNDDelete все предыдущие файлы из пакета. Удалите сопоставления на вкладке " **VFS** ", а также реальных файлов в папке csid \ _SYSTEM в пути декодирования.

### <a href="" id="on-windows-xp--client-install-logging-is-not-enabled-by-default-"></a>Ведение журнала установки клиентов по умолчанию отключено для WindowsXP.

При установке клиента убедитесь в том, что для устранения проблем с установкой регистрируются все ошибки, которые необходимо включить в журнал, используя командную строку.

WORKAROUNDAdd параметр */l\ * VX! log.txt* в командную строку, как показано в следующем примере:

setup.exe/s/v "/Qn/l\ * VX! log.txt "

msiexec.exe/i setup.msi/Qn/l\ * VX! log.txt

Кроме того, вы можете присвоить разделу реестра указанные ниже значения.

\ [HKEY \ _LOCAL \ _MACHINE \\SOFTWARE\\Policies\\Microsoft\\Windows\\Installer\] "ведение журнала" = "voicewarmupx!"

### Для проверки подлинности Kerberos необходимо зарегистрировать имена субъектов-служб (SPN) для IIS

Если для проверки подлинности Kerberos используются службы IIS 6.0 или 7.0 для получения и потоковой передачи пакетов, то для включения аутентификации необходимо зарегистрировать SPN, как описано ниже.

-   На сервере IIS выполните следующие команды с помощью средства SETSPN.EXE Resource Kit. Необходимо использовать полное доменное имя (FQDN) сервера.

    SetSPN-r SOFTGRID/ &lt; полное доменное имя сервера&gt;

    SetSPN-r HTTP/ &lt; полное доменное имя сервера&gt;

Дополнительные сведения можно найти в разделе <https://go.microsoft.com/fwlink/?LinkId=131407> .

### Изменения в совместимости .NET

Microsoft Application Virtualization (App-V) интегральная update1 или более поздней версии поддерживает виртуализацию .NET Framework на WindowsXP (SP2 или более поздней версии). Процедуры упорядочивания для приложений .NET, написанных для SoftGrid 4.2, при использовании с секвенсором App-V 4,5 могут потребоваться обновлять. Подробные сведения и временные решения можно найти в статье базы знаний по адресу <https://go.microsoft.com/fwlink/?LinkId=123412> :

### <a href="" id="after-client-upgrade-from-app-v-4-2--some-applications-are-not-shown-"></a>После обновления клиента с App-V 4.2 некоторые приложения не отображаются

Убедитесь в том, что в журнале возникла следующая ошибка: "клиент Application Virtualization не может проанализировать OSD файл". Клиент App-V 4,5 фильтрует приложения с помощью OSD-файла, содержащего пустой тег OS ( &lt; ОС &gt; &lt; /OS &gt; ).

WORKAROUNDDelete пустой тег OS из OSD файла.

### Для некоторых процессов сервер App-V требует исключений брандмауэра.

Для правильного потоковой передачи приложений на сервер (основным процессам, в том числе диспетчером) необходим доступ через брандмауэр.

Исключения для обхода УЯЗВИМости в брандмауэре сервера для следующих процессов: sghwsvr.exe и sghwdsptr.exe. Это относится к серверу управления App-V и потокового сервера App-V.

### При запуске установщика сервера в автоматическом режиме проверка MSXML6 не выполняется надлежащим образом.

Сервер управления App-V зависит от MSXML6. Однако при запуске установщика в автоматическом режиме (например, при использовании команды "msiexec-i setup.msi/Qn" в системе, где не установлен компонент MSXML6, установщик не обнаруживает недостающую зависимость и устанавливается в любом случае. Таким образом, когда клиенты пытаются обновить данные публикации на сервере управления App-V, они будут видеть ошибки.

WORKAROUNDVerify, что на компьютере установлена система MSXML6, прежде чем пытаться автоматически установить сервер управления App-V.

### Код ошибки 000C800 при попытке подключиться к консоли управления виртуализацией приложений

Администратор Application Virtualization, который не является локальным администратором на сервере веб-службы управления App-V, получит ошибку (код ошибки: 000C800) при попытке подключиться к консоли управления App-V, а запись SftMMC. log будет указывать на то, что доступ к SftMgmt. udl запрещен. Чтобы успешно подключиться к консоли управления App-V, администратор, у которого нет прав локального администратора на сервере веб-службы управления App-V, должен иметь разрешения по крайней мере на чтение и выполнение для файла SftMgmt. udl.

Администраторам виртуализации приложений должны быть предоставлены разрешения на чтение и выполнение для файла SftMgmt. UDL в разделе%systemdrive%\\Program Files\\Microsoft System Center App Virt Server\\App Management Service.

### Параметры командной строки установщика клиента игнорируются при использовании в сочетании с KEEPCURRENTSETTINGS = 1

При использовании в сочетании с KEEPCURRENTSETTINGS = 1 следующие параметры командной строки установщика клиента игнорируются: SWICACHESIZE, MINFREESPACEMB, ALLOWINDEPENDENTFILESTREAMING, APPLICATIONSOURCEROOT, ICONSOURCEROOT и OSDSOURCEROOT,, SYSTEMEVENTLOGLEVEL, SWIGLOBALDATA, DOTIMEOUTMINUTES, SWIFSDRIVE и AUTOLOADTARGET.

WORKAROUNDIf параметры, которые вы хотите сохранить, используйте KEEPCURRENTSETTINGS = 1, а затем задайте другие параметры после развертывания. Шаблон ADM App-V можно использовать для задания следующих параметров клиента: APPLICATIONSOURCEROOT, ICONSOURCEROOT, OSDSOURCEROOT, AUTOLOADTARGET, AUTOLOADTRIGGERS, DOTIMEOUTMINUTES и ALLOWINDEPENDENTFILESTREAMING. Шаблон ADM можно найти по адресу <https://go.microsoft.com/fwlink/?LinkId=121835> .

## Сведения о заметках об авторском праве


Информация в этом документе, включая URL-адреса и другие ссылки на веб-сайты в Интернете, может быть изменена без предварительного уведомления и предоставлена только в информационных целях. Весь риск использования и результатов использования этого документа сохраняется вместе с пользователем, а корпорация Майкрософт не дает никаких гарантий, явных и подразумеваемых. Если не указано иное, компании, Организации, товары, доменные имена, адреса электронной почты, логотипы, люди, места и события, показанные в приведенных ниже примерах, являются вымышленными. Никаких связей с реальными компаниями, организациями, продуктами, доменными именами, адресами электронной почты, логотипами, лицами, местами и событиями является случайным образом. Ответственность за соблюдение всех применимых законов об авторском праве лежит на пользователе. Без ограничения прав, описанных в разделе авторские права, никакие части этого документа нельзя воспроизводить, хранить или использовать в системе поиска или передавать в любой форме или любым способом (электронные, механические, фотокопирование, запись и т. д.) или в любых целях без специального письменного разрешения корпорации Майкрософт.

Корпорация Майкрософт может иметь патенты, патентные приложения, торговые марки, авторские права и другие права на интеллектуальную собственность, касающиеся темы в этом документе. За исключением случаев, явно оговоренных в письменных лицензионных соглашениях от корпорации Майкрософт, предоставление этого документа не дает вам лицензии на эти патенты, товарные знаки, авторские права и другую интеллектуальную собственность.



Microsoft, Active Directory, ActiveSync, MS-DOS, Windows, WindowsServer и Windows Vista — охраняемые товарные знаки в группе компании Microsoft.

Все прочие товарные знаки являются собственностью соответствующих владельцев.

 

 





