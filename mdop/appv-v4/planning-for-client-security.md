---
title: Планирование безопасности клиента
description: Планирование безопасности клиента
author: dansimp
ms.assetid: 4840a60f-4c91-489c-ad0b-6671882abf9b
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 08/30/2016
ms.openlocfilehash: e0038f7cbc8592d6c7fcdfa485111da88c17791d
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/26/2020
ms.locfileid: "10815932"
---
# Планирование безопасности клиента


Клиент App-V предлагает несколько улучшений системы безопасности, которые отсутствовали в предыдущих версиях продукта. Эти изменения обеспечивают повышенную безопасность после установки и более поздней конфигурации параметров клиента. В этой статье описаны некоторые из этих улучшений и указаны некоторые важные параметры конфигурации, связанные с безопасностью, которые следует учитывать во время процесса планирования. Важно помнить о том, что виртуальные приложения все еще находятся в исполняемых файлах, поэтому вы должны убедиться, что эти ресурсы не могут быть подделаны неавторизованными людьми. По этой причине кэш файлов Open Software descriptor (OSD) защищается, как описано далее в этой статье, и мы настоятельно рекомендуем использовать протоколы RTSP, HTTPS и IPsec для защиты публикации и потоковой передачи.

## Безопасность клиента App-V


По умолчанию во время установки клиент App-V настраивается с минимальными разрешениями, необходимыми для того, чтобы пользователь мог выполнять обновление публикации и запускать приложения. Ниже перечислены другие усовершенствования системы безопасности, доступные в клиенте App-V.

-   По умолчанию кэш OSD файлов может быть обновлен только администраторами и с помощью процесса обновления публикации.

-   Файл журнала (sftlog.txt) доступен только для учетных записей, которые имеют локальный административный доступ к клиенту.

-   Файл журнала теперь имеет максимальный размер.

### Сопоставления типов файлов

По умолчанию при установке клиента регистрируются сопоставления типов файлов (FTAs) для OSD-файлов, которые позволяют пользователям запускать приложения непосредственно из OSD-файлов, а не с помощью опубликованных сочетаний клавиш. Если пользователь с правами локального администратора получает OSD-файл, который содержит вредоносный код, либо в сообщении электронной почты, либо загружается с сайта, пользователь может открыть файл OSD и запустить приложение, даже если клиент настроен для ограничения разрешения на **Добавление приложения** . Вы можете отменить регистрацию FTAs для OSD, чтобы снизить этот риск. Кроме того, можно заблокировать это расширение в почтовой системе и брандмауэре. Дополнительные сведения о том, как настроить Outlook для блокировки расширений, приведены в разделе <https://go.microsoft.com/fwlink/?LinkId=133278> .

**Примечание о безопасности.**

Начиная с версии App-V 4.6, для файлов OSD больше не создается ассоциация типа файлов во время новой установки клиента, однако существующие параметры будут сохраняться при обновлении версии 4,2 или 4,5 клиента App-V. Если по какой бы причине вам нужно создать ассоциацию типа файла, вы можете создать следующие разделы реестра и задать их значения, как показано ниже.

    Create HKEY\_CLASSES\_ROOT\\.osd with a default value of SoftGrid.osd.File

    Under HKEY\_LOCAL\_MACHINE\\software\\classes\\Softgrid.osd.file, create a string value named AppUserModelID with a data value of Microsoft.AppV.Client.Tray

### Authorization

Во время установки можно использовать параметр **RequireAuthorizationIfCached** , чтобы настроить клиент для использования авторизации на сервере при попытке пользователя запустить приложение. Вы должны быть внимательны, как установить этот параметр. Если сервер App-V недоступен по какой-либо причине, приложение будет использовать последнее сохраненное состояние этого параметра для управления доступом пользователей к приложению. Если пользователь не запустил приложение, прежде чем сервер App-V станет недоступен, они не смогут запустить приложение, пока они не смогут связаться с сервером и получить авторизацию. Однако если настроить параметр таким образом, чтобы клиенту не требовалось авторизация и если сервер недоступен, все ранее кэшированные приложения могут быть запущены независимо от того, разрешены ли они. Кроме того, если у пользователя есть разрешение на изменение клиента для работы в автономном режиме через разрешения или если пользователь является локальным администратором, пользователь сможет открыть все кэшированные пакеты так, как если бы инфраструктура App-V была недоступна.

### Проверка антивирусной программы

Антивирусные программы, запущенные на клиентском компьютере App-V, могут обнаружить зараженный файл в виртуальной среде и сообщить о нем. Однако он не может disinfect файл. При обнаружении вируса в виртуальной среде антивирусная программа будет выполнять настроенную операцию карантина или восстановления в кэше, а не в фактическом пакете. Настройка антивирусной программы с исключением для файла Sftfs. fsd. Этот файл является файлом кэша, в котором хранятся пакеты в клиенте App-V.

**Примечание о безопасности.**

При обнаружении вируса в приложении или пакете, развернутом в рабочей среде, замените приложение или пакет с помощью бесплатной антивирусной версии.

## Связь между клиентом и сервером


Обновления публикации и потоковая передача пакетов — это также разделы, в которых важны вопросы безопасности, связанные с обменом данными между клиентом и сервером.

### Обновление публикации

Когда клиент обменивается данными с сервером, чтобы выполнить обновление публикации, он использует учетные данные пользователя, выполнившего вход, для запроса сведений о пакетах приложения. Вы должны защитить связь между клиентом App-V и сервером управления App-V, чтобы убедиться в том, что ни одна из публикуемых данных не может быть изменена при передаче. Это можно сделать с помощью улучшенной защиты, использующей протоколы RTSP и HTTPS. Связь между клиентом и расположением, в котором хранятся файлы ICO и OSD, должны использовать IPsec для общих ресурсов SMB/CIFS и HTTPS для сервера IIS.

**Примечание**  Если вы используете IIS для публикации файлов ICO и OSD, настройте тип MIME для OSD = TXT; в противном случае IIS не будет обрабатывать файлы ICO и OSD для клиентов.

 

### Потоковая передача пакетов

Когда пользователь запускает приложение в первый раз или, если в клиенте заданы автоматически загружаемые параметры, пакет приложения передается из сервера в клиентский кэш. Этот процесс поддерживает протоколы RTSP/RTSP, HTTP/HTTPS и SMB/CIFS. OSD файлы управляют использованием используемых протоколов, если только параметр **APPLICATIONSOURCEROOT** или **OverrideURL** не настроен на клиентах. Для обеспечения более высоких уровней безопасности необходимо настроить связь с помощью протоколов RTSP, HTTPS и IPsec для SMB/CIFS. Дополнительные сведения о том, как выбрать способ связи, можно найти в руководстве по планированию и развертыванию App-V <https://go.microsoft.com/fwlink/?LinkId=122063> .

**Примечание**  Если вы используете IIS для публикации пакетов (SFT-файлов), настройте тип MIME для SFT = binary. в противном случае службы IIS не будут обрабатывать файлы SFT для клиентов.

 

### Перемещаемые профили и перенаправление папок

Система App-V хранит специфические пользовательские изменения в пакетах в файле usrvol \ _sftfs \ _v1. pkg. Этот файл находится в папке Application Data в профиле пользователя. Так как профиль или перенаправленная папка данных приложения передается между клиентом и сервером, используйте IPsec для безопасной связи.

## Рекомендации для клиентов, подключенных к Интернету


Для клиентов, подключенных к Интернету, важно решить, является ли клиент присоединенным к домену или не присоединен к домену.

### Клиент присоединен к домену

По умолчанию клиенты App-V используют билеты Kerberos, выданные доменными службами Active Directory для проверки подлинности и авторизации в интрасети. Эти билеты на Kerberos по умолчанию действительны в течение 10 часов. Клиент будет использовать этот билет для доступа к серверу App-V, пока он является действительным, даже если компьютер не может подключиться к контроллеру домена для обновления билета. Если срок действия билета Kerberos истекает, клиент App-V вернется к проверке подлинности NTLM и использует кэшированные учетные данные пользователя.

### Клиент, не подключенный к домену

Если пользователь работает дома и компьютер не присоединен к домену компании, App-V может по-прежнему поддерживать доставку приложений. Для проверки подлинности и авторизации пользователя, чтобы выполнить обновление публикации и запустить приложения, настройте учетную запись пользователя на клиентском компьютере, чтобы сохранить имя пользователя и пароль, которые имеют доступ к среде App-V, и предоставить приложению соответствующие разрешения.

## Статьи по теме


[Планирование безопасности и защиты](planning-for-security-and-protection.md)

 

 





