---
title: Заметки о выпуске App-V 4.5 с пакетом обновления 2 (SP2)
description: Заметки о выпуске App-V 4.5 с пакетом обновления 2 (SP2)
author: dansimp
ms.assetid: 1b3a8a83-4523-4634-9f75-29bc22ca5815
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 08/30/2016
ms.openlocfilehash: 35cff3b2a2c110a4d8beba883a4cf9332381ea60
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/26/2020
ms.locfileid: "10819852"
---
# Заметки о выпуске App-V 4.5 с пакетом обновления 2 (SP2)


Чтобы найти заметки о выпуске, нажмите клавиши CTRL + F.

**Важно!**  Внимательно прочитайте эти заметки о выпуске, прежде чем устанавливать систему управления виртуализацией приложений Microsoft. Эти заметки о выпуске содержат сведения, необходимые для успешной установки системы управления виртуализацией приложений. Эти заметки о выпуске содержат сведения, недоступные в документации по продукту. Если в этих заметках о выпуске и другой документации системы управления виртуализацией приложений есть несоответствие, Последнее изменение должно считаться полномочным.

 

Чтобы получить обновленные сведения об известных проблемах, посетите библиотеку Microsoft TechNet ( [заметки о выпуске App-V 4,5 SP2)](https://go.microsoft.com/fwlink/?LinkId=184640) ( https://go.microsoft.com/fwlink/?LinkId=184640) .

## Сведения о Microsoft Application Virtualization 4,5 с пакетом обновления 2 (SP2)


Эти заметки о выпуске обновлены, чтобы отразить изменения, внесенные в Microsoft Application Virtualization (App-V) 4.5 Service Pack2 (SP2). Этот пакет обновления включает указанные ниже изменения.

-   Поддержка Office 2010: App-V 4.5 SP2 теперь поддерживает виртуализацию Microsoft Office 2010. Рекомендации по упорядочению Microsoft Office 2010 с помощью App-V 4,5 SP2 можно найти [в разделе рекомендации по упорядочению office 2010 в Microsoft App-v 4,6](https://go.microsoft.com/fwlink/?LinkId=191539) ( https://go.microsoft.com/fwlink/?LinkId=191539) .

-   Поддержка зеркального отображения базы данных: App-V 4.5 SP2 теперь поддерживает зеркальное отображение базы данных Microsoft SQL Server. Дополнительные сведения о настройке зеркального отображения базы данных в среде App-V можно найти в разделе [Настройка поддержки зеркального отображения Microsoft SQL Server для App-v](https://go.microsoft.com/fwlink/?LinkId=190880) ( https://go.microsoft.com/fwlink/?LinkId=190880) .

-   Сведения о отзывах и исправлениях для пользователей: App-V 4.5 SP2 также включает свертку исправлений для устранения проблем, обнаруженных после выпуска App-V 4.5 с пакетом обновления 1 (SP1). Обновления предназначены для устранения известных проблем и отзывов пользователей из внутренних групп Microsoft, партнеров и клиентов, использующих приложение App-V 4.5. Полный список обновлений можно найти в статье 980847 базы знаний Майкрософт (KB) в [описании Microsoft Application Virtualization 4,5 с пакетом обновления 2](https://go.microsoft.com/fwlink/?LinkId=191540) (SP2) ( https://go.microsoft.com/fwlink/?LinkId=191540) .

## Сведения о документации по продукту


Подробная документация по виртуализации приложений (App-V) доступна в Microsoft TechNet в [библиотеке TechCenter Application Virtualization](https://go.microsoft.com/fwlink/?LinkId=122939) ( https://go.microsoft.com/fwlink/?LinkId=122939) . В документации TechNet вы также включаете онлайн-справку для секвенсора Application Virtualization, клиентов Application Virtualization и сервера Application Virtualization. Она также включает руководство по планированию и развертыванию Application Virtualization и руководство по работе с Application Virtualization.

## Защита от уязвимостей и вирусов в системе безопасности


Для защиты от уязвимостей и вирусов в системе безопасности рекомендуется установить последние обновления для системы безопасности для любого нового установленного программного обеспечения. Дополнительные сведения можно найти в разделе [Microsoft Security](https://go.microsoft.com/fwlink/?LinkId=3482) ( https://go.microsoft.com/fwlink/?LinkId=3482) .

## Отправить отзыв


Вы можете отправить отзыв, внести предложение или сообщить о проблеме в системе управления Microsoft Application Virtualization (App-V) с помощью форума сообщества на форуме Application Virtualization для [App-v](https://go.microsoft.com/fwlink/?LinkId=122917) ( https://go.microsoft.com/fwlink/?LinkId=122917) .

Вы также можете отправить отзыв о документации непосредственно в группу документации App-V по адресу <appvdocs@microsoft.com> .

## Известные проблемы с виртуализацией приложений 4.5 SP2


Этот раздел содержит наиболее актуальные сведения о проблемах, возникающих при использовании Microsoft Application Virtualization (App-V) 4.5 SP2. Эти проблемы не отображаются в документации на продукт, и в некоторых случаях может привести к противоречию с существующим документом о продукте. Если это возможно, эти проблемы будут рассмотрены в более поздних выпусках программного обеспечения.

### Руководство по установке консоли управления сервером

Если вы хотите установить программное обеспечение для управления на системах, отличных от основного сервера публикации и потока управления виртуализацией приложений, установка сервера поддерживает установку консоли управления виртуализации приложений и веб-службы виртуализации приложений на разных серверах с основного сервера управления App-V. Чтобы распространить компоненты управления на нескольких серверах, необходимо включить делегирование Kerberos на сервере, на котором установлена веб-служба Application Virtualization. Сведения о том, как включить эту поддержку, вы узнаете, [как настроить сервер для делегирования](https://go.microsoft.com/fwlink/?LinkId=166682) https://go.microsoft.com/fwlink/?LinkId=166682) .

### Руководство по установке и обновлению клиентов до App-V 4.5 SP2 с помощью Setup.msi

При установке или обновлении клиентов App-V в App-V 4,5 SP2 с помощью Setup.msi необходимые компоненты не устанавливаются автоматически.

WORKAROUNDYou необходимо вручную установить необходимые компоненты перед установкой или обновлением клиентов App-V до App-V 4.5 SP2. Подробные инструкции по установке необходимых компонентов и клиента App-V можно найти в разделе [Установка клиента с помощью командной строки](https://go.microsoft.com/fwlink/?LinkId=144106) ( https://go.microsoft.com/fwlink/?LinkId=144106) .

После завершения установки установите клиенты App-V 4,5 с пакетом обновления 2 (SP2) с помощью Setup.msi с учетными данными администратора. Этот файл доступен на носителе с выпуском App-V 4,5 с пакетом обновления 2 (SP2) в папке Installers\\Client.

При установке отчетов об ошибках приложений Microsoft используйте следующую команду, если вы устанавливаете и обновляете классическое приложение App-V 4,5 SP2.

**msiexec/i dw20shared.msi APPGUID = {C6FC75B9-7D86-4C44-8BDB-EAFE1F0E200D} ALLUSERS = 1 reboot = подавлять ПОВТОРную установку = ALL REINSTALLMODE = vomus**

Кроме того, если вы устанавливаете клиент App-V 4,5 SP2 для служб удаленных рабочих столов (ранее служб терминалов), вы можете выполнить следующую команду:

**msiexec/i dw20shared.msi APPGUID = {ECF80BBA-CA07-4A74-9ED6-E064F38AF1F5} ALLUSERS = 1 reboot = подавлять ПОВТОРную установку = ALL REINSTALLMODE = vomus**

**Примечание.**  
-   Параметр APPGUID ссылается на код продукта в клиентах App-V, которые вы устанавливаете или обновляете. Код продукта уникален для каждого Setup.msi. Вы можете использовать редактор базы данных Orca или аналогичное средство для проверки файлов установщика Windows и определения кода продукта. Этот этап необходим для всех установок и обновлений для App-V 4,5 SP2.

-   Это действие не требуется, если вы обновляете и ранее устанавливали Dw20shared.msi.

 

### Повышение производительности при виртуализации платформы .NET Framework

При виртуализации Microsoft .NET Framework может снизиться производительность системы, так как служба NGEN .NET Framework пытается выполнить предварительную компиляцию сборок как фоновой задачи.

WORKAROUNDWhen, получив платформу .NET Framework, отключите службу NGEN платформы .NET Framework (Mscorsvw.exe) после завершения этапа мониторинга. Необходимо использовать вкладку **виртуальных служб** в секвенсоре App-V и изменить тип запуска на " **отключено**".

### При удалении клиента Microsoft Application Virtualization пользовательские параметры, связанные с пользователем, выполняющим удаление, удаляются.

При удалении клиента App-V установщик Windows удаляет параметры Application Virtualization из профиля текущего пользователя. Если на вашем компьютере используются перемещаемые профили, не используйте личную сетевую учетную запись для удаления клиента, так как в этом случае удаляются параметры виртуальных приложений на всех компьютерах.

WORKAROUNDYou необходимо удалить клиент App-V с административной учетной записью, которая не используется для работающих виртуальных приложений.

### Изменения, внесенные в виртуальной файловой системе и на вкладках виртуальных разделов реестра, должны сохраняться при запуске мастера виртуализации

Если вы открыли пакет для выполнения обновления или уже запустили мастер виртуализации с новым пакетом и вносите изменения в пакет в виртуальной файловой системе или на вкладках виртуальных разделов реестра, эти изменения не сохраняются автоматически.

WORKAROUNDSave изменения перед повторной запуском мастера, чтобы убедиться, что они отражаются внутри виртуальной среды мастера.

### Командная строка должна быть запущена из командной строки с повышенными привилегиями

При использовании командной строки секвенсор не запрашивает повышение прав.

WORKAROUNDRun командной строки, используя командную строку с повышенными привилегиями.

### Имена переменных путей в OSD могут привести к ошибкам

Если вы получаете сообщение об ошибке 450478-1F702339-0000010B "имя каталога является недопустимым" при запуске виртуального приложения на клиенте, возможно, что переменная в OSD задана неправильно. Это может быть вызвано тем, что установщик приложения задает короткий путь во время последовательности.

WORKAROUNDRemove символ тильды из любой переменной CSID, которая существует в OSD файле.

### <a href="" id="correct-syntax-for-decodepath-parameter-for-command-line-sequencer-"></a>Правильный синтаксис для параметра DECODEPATH в командной строке Sequencer

В секвенсоре с помощью командной строки при открытии пакета для обновления и декодировании его в корне диска Q синтаксис параметра *DECODEPATH* не должен включать завершающую косую черту.

WORKAROUNDYou может использовать **Q:** вместо **Q:\\** (пропуск завершающего знака \ \).

### <a href="" id="when-upgrading-app-v-4-2-packages--you-encounter-problems-caused-by-windows-installer-files-in-the-virtual-file-system-"></a>При использовании пакетов upgradingAPP-V 4,2 возникают проблемы, вызванные файлами установщика Windows в виртуальной файловой системе.

При обновлении пакета из APP-V 4.2 могут возникнуть проблемы, связанные с несоответствием системных файлов установщика Windows, которые были включены по умолчанию в APP-V 4.2 и библиотеках установщика Windows, локально установленных на станции виртуализации. Указанные ниже файлы находятся в CSID _SYSTEM \ \:

Cabinet.dll

Msi.dll

Msiexec.exe

Msihnd.dll

Msimsg.dlll

WORKAROUNDDelete все предыдущие файлы из пакета. Удалите сопоставления на вкладке **VFS** и фактические файлы в папке csid \ _SYSTEM в пути декодирования.

### <a href="" id="on-windows-xp--by-default--client-installation-logging-is-not-enabled-"></a>В WindowsXP по умолчанию ведение журнала установки клиента не включено

При установке клиента убедитесь в том, что для устранения проблем с установкой регистрируются все ошибки, которые необходимо включить в журнал, используя командную строку.

WORKAROUNDAdd параметр */l\ * VX! log.txt* в командную строку, как показано в следующем примере:

**setup.exe/s/v "/Qn/l\ * VX! log.txt "**

**msiexec.exe/i setup.msi/Qn/l\ * VX! log.txt**

Кроме того, вы можете присвоить разделу реестра указанные ниже значения.

**\ [HKEY \ _LOCAL \ _MACHINE \\SOFTWARE\\Policies\\Microsoft\\Windows\\Installer\] "ведение журнала" = "voicewarmupx!"**

### Для проверки подлинности Kerberos необходимо зарегистрировать имена субъектов-служб (SPN) для IIS

При использовании служб Internet Information Services (IIS) 6.0 orIIS 7.0 для получения и потоковой передачи пакетов, чтобы включить проверку подлинности Kerberos, необходимо зарегистрировать SPN, как описано ниже.

-   На сервере IIS выполните следующие команды с помощью средства SETSPN.EXE Resource Kit. Необходимо использовать полное доменное имя (FQDN) сервера.

    **SetSPN-r SOFTGRID/ &lt; полное доменное имя сервера&gt;**

    **SetSPN-r HTTP/ &lt; полное доменное имя сервера&gt;**

Дополнительные сведения можно найти в разделе [Встроенная проверка подлинности Windows (IIS 6,0)](https://go.microsoft.com/fwlink/?LinkId=131407) ( https://go.microsoft.com/fwlink/?LinkId=131407) .

### Изменения в совместимости .NET

Microsoft Application Virtualization (App-V) интегральная update1 или более поздней версии поддерживает виртуализацию .NET Framework на WindowsXP SP2 или более поздней версии. Процедуры последовательности для приложений .NET, написанных для SoftGrid 4.2, могут быть обновлены при использовании с секвенсором App-V 4,5. Подробные сведения и временные решения можно найти в статье TechCenter Application Virtualization на сайте [поддержки .NET в Microsoft Application virtualization 4,5](https://go.microsoft.com/fwlink/?LinkId=123412) ( https://go.microsoft.com/fwlink/?LinkId=123412) .

### <a href="" id="after-client-upgrade-from-app-v-4-2--some-applications-are-not-shown-"></a>После обновления клиента с App-V 4.2 некоторые приложения не отображаются

Убедитесь в том, что в журнале возникла следующая ошибка: "клиент Application Virtualization не может проанализировать OSD файл". Клиент App-V 4,5 фильтрует приложения с помощью OSD-файла, который содержит пустой тег OS ( &lt; ОС &gt; &lt; /OS &gt; ).

WORKAROUNDDelete пустой тег OS из OSD файла.

### Для некоторых процессов сервер App-V требует исключений брандмауэра.

Для правильного потокового потока на сервере для работы основных процессов сервера, включая Dispatcher, требуется доступ через брандмауэр.

Исключения для обхода УЯЗВИМости в брандмауэре сервера для следующих процессов: Sghwsvr.exe и Sghwdsptr.exe. Это относится к серверу управления App-V и потокового сервера App-V.

### При запуске установщика сервера в автоматическом режиме проверка MSXML6 не выполняется надлежащим образом.

Сервер управления App-V зависит от MSXML6. Однако при запуске установщика в автоматическом режиме (например, с помощью команды **msiexec-i setup.msi/Qn** в системе, где не установлен компонент MSXML6, установщик не обнаруживает недостающую зависимость и устанавливается все равно. Таким образом, когда клиенты пытаются обновить данные публикации с сервера управления App-V, они получат ошибки.

WORKAROUNDVerify, что в системе установлен компонент MSXML6, прежде чем попытаться выполнить автоматическую установку сервера управления App-V.

### Код ошибки 000C800 при попытке подключиться к консоли управления виртуализацией приложений

Администратор Application Virtualization, который не является локальным администратором на сервере веб-службы управления App-V, получает сообщение об ошибке (код ошибки: 000C800) при попытке подключиться к консоли управления App-V, а запись SftMMC. log указывает на то, что доступ к SftMgmt. udl запрещен. Чтобы успешно подключиться к консоли управления App-V, администратор, у которого нет прав локального администратора на сервере веб-службы управления App-V, должен иметь разрешения по крайней мере на чтение и выполнение для файла SftMgmt. udl.

Администраторы виртуализации приложений должны иметь разрешения на чтение и выполнение для файла SftMgmt. UDL в папке%systemdrive%\\Program Files\\Microsoft приложение System Center virt управления Server\\App virt Management Service.

### Параметры командной строки установщика клиента игнорируются при использовании в сочетании с KEEPCURRENTSETTINGS = 1

При использовании в сочетании с KEEPCURRENTSETTINGS = 1 следующие параметры командной строки установщика клиента игнорируются: SWICACHESIZE, MINFREESPACEMB, ALLOWINDEPENDENTFILESTREAMING, APPLICATIONSOURCEROOT, ICONSOURCEROOT и OSDSOURCEROOT,, SYSTEMEVENTLOGLEVEL, SWIGLOBALDATA, DOTIMEOUTMINUTES, SWIFSDRIVE и AUTOLOADTARGET.

WORKAROUNDIf параметры, которые вы хотите сохранить, используйте KEEPCURRENTSETTINGS = 1, а затем задайте другие параметры после развертывания. Шаблон ADM App-V можно использовать для задания следующих параметров клиента: APPLICATIONSOURCEROOT, ICONSOURCEROOT, OSDSOURCEROOT, AUTOLOADTARGET, AUTOLOADTRIGGERS, DOTIMEOUTMINUTES и ALLOWINDEPENDENTFILESTREAMING. Вы можете скачать шаблон ADM из центра загрузки Майкрософт в [административном шаблоне Microsoft Application Virtualization (шаблон ADM)](https://go.microsoft.com/fwlink/?LinkId=121835) ( https://go.microsoft.com/fwlink/?LinkId=121835) .

### Сведения о заметках об авторском праве

Этот документ предоставляется "как есть". Сведения и мнения, содержащиеся в данном документе, включая URL-адреса и другие ссылки на веб-сайты в Интернете, могут быть изменены без уведомления. Вы несете ответственность за ее использование.

Некоторые примеры, представленные в этом документе, предназначены только для иллюстрации и являются вымышленными.Фактическая ассоциация или соединение не предназначены для использования или должны выводиться.

Настоящий документ не предоставляет никаких законных прав на интеллектуальную собственность в любом продукте Майкрософт. Вы можете копировать и использовать настоящий документ для внутреннего использования и в справочных целях. Вы можете изменить этот документ для внутренних целей и ссылок.



Microsoft, Active Directory, ActiveSync, MS-DOS, Windows, WindowsServer и Windows Vista — охраняемые товарные знаки в группе компании Microsoft.

Все прочие товарные знаки являются собственностью соответствующих владельцев.

 

 





