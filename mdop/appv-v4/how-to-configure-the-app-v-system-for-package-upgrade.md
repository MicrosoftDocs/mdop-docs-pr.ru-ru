---
title: Настройка системы App-V для обновления пакетов
description: Настройка системы App-V для обновления пакетов
author: dansimp
ms.assetid: de133898-f887-46c1-9bc9-fbb03feac66a
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 06/16/2016
ms.openlocfilehash: 5e5056f923c61aff39d9bd6e1d26f071177f7c12
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/26/2020
ms.locfileid: "10817849"
---
# <span data-ttu-id="db5dd-103">Настройка системы App-V для обновления пакетов</span><span class="sxs-lookup"><span data-stu-id="db5dd-103">How to Configure the App-V System for Package Upgrade</span></span>


<span data-ttu-id="db5dd-104">При развертывании новой версии существующего пакета приложения, которая была обновлена в секвенсоре App-V, вы можете развернуть ее, чтобы клиенты App-V автоматически переводили поток новой версии в локальный кэш.</span><span class="sxs-lookup"><span data-stu-id="db5dd-104">When you deploy a new version of an existing application package that has been upgraded in the App-V Sequencer, you can deploy it so that the App-V clients automatically stream the new version to the local cache.</span></span> <span data-ttu-id="db5dd-105">В зависимости от используемого потокового решения существуют различные процедуры для настройки обновления пакета.</span><span class="sxs-lookup"><span data-stu-id="db5dd-105">Depending on the streaming solution you use, there are different procedures for configuring the package upgrade.</span></span> <span data-ttu-id="db5dd-106">В следующих разделах описаны наиболее распространенные сценарии публикации и потоковой передачи данных, а также приведены процедуры, необходимые для настройки обновления пакета для каждого сценария.</span><span class="sxs-lookup"><span data-stu-id="db5dd-106">The following sections describe the most typical scenarios for publishing and streaming, and include the procedures necessary for configuring the package upgrade for each scenario.</span></span>

## <span data-ttu-id="db5dd-107">Использование сервера управления как для публикации, так и для потоковой передачи</span><span class="sxs-lookup"><span data-stu-id="db5dd-107">Using a Management Server for both publishing and streaming</span></span>


<span data-ttu-id="db5dd-108">В этом сценарии один сервер управления App-V используется как для публикации, так и для потоковой передачи пакетов и приложений, а требуется протокол RTSP (S).</span><span class="sxs-lookup"><span data-stu-id="db5dd-108">In this scenario, a single App-V Management Server is used for both publishing and streaming of packages and applications, and the RTSP(S) protocol is required.</span></span> <span data-ttu-id="db5dd-109">После импорта исходного пакета на сервер управления App-V администратор копирует папку пакета, содержащую файлы, созданные секвенсором, в папку содержимого (например, в \\\\server\\CONTENT\\packagename.).</span><span class="sxs-lookup"><span data-stu-id="db5dd-109">When the original package is imported to the App-V Management Server, the administrator copies the package folder that contains the files created by the sequencer to the CONTENT folder, for example, to \\\\server\\CONTENT\\packagename.</span></span> <span data-ttu-id="db5dd-110">Администратор также редактирует элемент HREF в OSD, указывающий на файл SFT в папке Package, а затем импортирует пакет на сервер.</span><span class="sxs-lookup"><span data-stu-id="db5dd-110">The administrator also edits the HREF entry in the OSD file to point to the SFT file in the package folder, and then imports the package to the server.</span></span>

<span data-ttu-id="db5dd-111">Когда пользователь проходит проверку подлинности на сервере управления, сервер публикует приложения пользователя, отправляя файл applist.xml клиенту.</span><span class="sxs-lookup"><span data-stu-id="db5dd-111">When a user is authenticated by the Management Server, the server publishes the user’s applications by sending the applist.xml file to the client.</span></span> <span data-ttu-id="db5dd-112">Затем клиент извлекает из сервера управления OSD файлы и значки для приложений.</span><span class="sxs-lookup"><span data-stu-id="db5dd-112">The client then retrieves the OSD files and icons for the applications from the Management Server.</span></span> <span data-ttu-id="db5dd-113">Когда пользователь дважды щелкает значок приложения, содержимое приложения передается в кэш клиента из пути, указанного в OSD-файле, и запускается приложение.</span><span class="sxs-lookup"><span data-stu-id="db5dd-113">When the user double-clicks an application icon, the application content is streamed to the client cache from the path that is specified in the OSD file, and the application is started.</span></span>

### <span data-ttu-id="db5dd-114">Обновление пакета</span><span class="sxs-lookup"><span data-stu-id="db5dd-114">To upgrade the package</span></span>

<span data-ttu-id="db5dd-115">Чтобы добавить новую версию приложения, которая была обновлена в секвенсоре App-V, администратор должен скопировать новый файл SFT и другие измененные файлы в ту же папку, что и исходная версия приложения.</span><span class="sxs-lookup"><span data-stu-id="db5dd-115">To add a new version of an application that has been upgraded in the App-V Sequencer, the administrator must copy the new SFT file and any other modified files to the same folder as the original version of the application.</span></span> <span data-ttu-id="db5dd-116">Затем администратор сможет добавить новую версию пакета с помощью **надстройки "добавить версию** " на консоли управления сервером.</span><span class="sxs-lookup"><span data-stu-id="db5dd-116">The administrator will then use **Add Version** in the server management console to add the new version of the package.</span></span>

<span data-ttu-id="db5dd-117">Когда пользователь затем запускает приложение, сервер автоматически отправляет клиенту новую версию.</span><span class="sxs-lookup"><span data-stu-id="db5dd-117">When the user next starts the application, the server streams the new version to the client automatically.</span></span> <span data-ttu-id="db5dd-118">Этот конкретный метод обновления пакета ранее назывался активным обновлением.</span><span class="sxs-lookup"><span data-stu-id="db5dd-118">This specific method of upgrading a package was formerly known as an active upgrade.</span></span>

## <span data-ttu-id="db5dd-119">Использование сервера управления для публикации и потокового сервера для потоковой передачи</span><span class="sxs-lookup"><span data-stu-id="db5dd-119">Using a Management Server for publishing and a Streaming Server for streaming</span></span>


<span data-ttu-id="db5dd-120">В этом сценарии сервер управления App-V используется для публикации пакетов, а потоковый сервер используется для потоковой передачи и приложений.</span><span class="sxs-lookup"><span data-stu-id="db5dd-120">In this scenario, the App-V Management Server is used for publishing the packages, and the Streaming Server is used for streaming packages and applications.</span></span> <span data-ttu-id="db5dd-121">Требуется протокол RTSP (S).</span><span class="sxs-lookup"><span data-stu-id="db5dd-121">The RTSP(S) protocol is required.</span></span> <span data-ttu-id="db5dd-122">После импорта исходного пакета на сервер управления администратор скопирует папку пакета, содержащую файлы, созданные секвенсором, в папку содержимого (например, в \\\\server\\CONTENT\\packagename.).</span><span class="sxs-lookup"><span data-stu-id="db5dd-122">When the original package is imported to the Management Server, the administrator copies the package folder that contains the files created by the sequencer to the CONTENT folder, for example, to \\\\server\\CONTENT\\packagename.</span></span> <span data-ttu-id="db5dd-123">Администратор редактирует элемент HREF в OSD, указывающий на файл SFT на потоковый сервер, а затем импортирует пакет на сервер управления.</span><span class="sxs-lookup"><span data-stu-id="db5dd-123">The administrator edits the HREF entry in the OSD file to point to the SFT file on the Streaming Server, and then imports the package to the Management Server.</span></span>

<span data-ttu-id="db5dd-124">Чтобы настроить сервер потоковой передачи, администратор копирует папку пакета с сервера управления в папку содержимого на потоковый сервер.</span><span class="sxs-lookup"><span data-stu-id="db5dd-124">To set up the Streaming Server, the administrator copies the package folder from the Management Server to the CONTENT folder on the Streaming Server.</span></span> <span data-ttu-id="db5dd-125">Эта папка должна иметь то же имя и относительный путь в папке содержимого сервера потоков, как на сервере управления, например \\\\streamingserver\\CONTENT\\packagename.</span><span class="sxs-lookup"><span data-stu-id="db5dd-125">This folder must have the same name and relative path under the Streaming Server’s CONTENT folder as on the Management Server, for example, \\\\streamingserver\\CONTENT\\packagename.</span></span>

<span data-ttu-id="db5dd-126">Если параметр корневого каталога приложения клиента (ASR) настроен таким образом, что он указывает на потоковый сервер, клиент использует этот параметр вместо имени сервера в записи HREF в OSD-файле.</span><span class="sxs-lookup"><span data-stu-id="db5dd-126">If the client’s Application Source Root (ASR) setting is configured to point to the Streaming Server, the client uses this setting instead of the server name in the HREF entry in the OSD file.</span></span> <span data-ttu-id="db5dd-127">Поля ISR и OSR в клиенте можно настроить так, чтобы они указывали либо на сервер управления, либо на потоковый сервер, в зависимости от используемой архитектуры системы.</span><span class="sxs-lookup"><span data-stu-id="db5dd-127">The ISR and OSR fields on the client can optionally be configured to point to either the Management Server or the Streaming Server, depending on the specific system architecture that is used.</span></span>

<span data-ttu-id="db5dd-128">Когда пользователь проходит проверку подлинности на сервере управления, сервер публикует приложения пользователя, отправляя файл applist.xml клиенту.</span><span class="sxs-lookup"><span data-stu-id="db5dd-128">When a user is authenticated by the Management Server, the server publishes the user’s applications by sending the applist.xml file to the client.</span></span> <span data-ttu-id="db5dd-129">Клиент извлекает OSD файлы и значки для приложений с сервера потоковой передачи или сервера управления, в зависимости от параметров в полях OSR и ISR.</span><span class="sxs-lookup"><span data-stu-id="db5dd-129">The client retrieves the OSD files and icons for the applications from either the Streaming Server or the Management Server, depending on the settings in the OSR and ISR fields.</span></span>

<span data-ttu-id="db5dd-130">Когда пользователь дважды щелкает значок приложения, клиент использует путь к файлу содержимого пакета (SFT), который содержится в элементе HREF файла OSD.</span><span class="sxs-lookup"><span data-stu-id="db5dd-130">When the user double-clicks an application icon, the client uses the path to the package content file (SFT) that is contained in the OSD file HREF element.</span></span> <span data-ttu-id="db5dd-131">Если используется ASR-сервер, клиент заменяет имя сервера (а также порт и протокол, если оно используется) в элементе HREF, указав путь к потоку, указанному в ASR.</span><span class="sxs-lookup"><span data-stu-id="db5dd-131">If the ASR is used the client replaces the server name (and port and protocol, if used) in the HREF element with the path to the Streaming Server that is specified in the ASR.</span></span> <span data-ttu-id="db5dd-132">Затем приложение передается из потокового сервера в клиентский кэш и запускается.</span><span class="sxs-lookup"><span data-stu-id="db5dd-132">The application is then streamed from the Streaming Server to the client cache and is started.</span></span>

### <span data-ttu-id="db5dd-133">Обновление пакета</span><span class="sxs-lookup"><span data-stu-id="db5dd-133">To upgrade the package</span></span>

<span data-ttu-id="db5dd-134">Чтобы добавить новую версию приложения, которая была обновлена в секвенсоре App-V, администратор должен скопировать новую версию файла SFT и других измененных файлов в ту же папку, в которой находится исходная версия приложения, на потоковый сервер.</span><span class="sxs-lookup"><span data-stu-id="db5dd-134">To add a new version of an application that has been upgraded in the App-V Sequencer, the administrator must copy the new version of the SFT file and any other modified files to the same folder as the original version of the application on the Streaming Server.</span></span>

<span data-ttu-id="db5dd-135">Для обеспечения единообразия рекомендуется скопировать новые файлы в папку на сервере управления.</span><span class="sxs-lookup"><span data-stu-id="db5dd-135">For consistency, we recommend that you copy new files to the folder on the Management Server as well.</span></span> <span data-ttu-id="db5dd-136">В частности, если вы используете поля OSR или ISR клиента, скопируйте обновленный файл OSD и значки на сервер, указанный в полях OSR и ISR.</span><span class="sxs-lookup"><span data-stu-id="db5dd-136">In particular, if you use the client’s OSR or ISR fields, copy the updated OSD file and icons to the server that is specified in the OSR and ISR fields.</span></span>

<span data-ttu-id="db5dd-137">После того как потоковый сервер обнаружит новую версию, в следующий раз, когда пользователь запустит приложение, сервер автоматически отправляет клиенту новую версию.</span><span class="sxs-lookup"><span data-stu-id="db5dd-137">After the Streaming Server detects the new version, the next time the user starts the application, the server streams the new version to the client automatically.</span></span>

## <span data-ttu-id="db5dd-138">Использование сервера управления для публикации и сервера IIS для потоковой передачи</span><span class="sxs-lookup"><span data-stu-id="db5dd-138">Using a Management Server for publishing and an IIS Server for streaming</span></span>


<span data-ttu-id="db5dd-139">В этом сценарии сервер управления App-V используется для публикации пакетов, а сервер IIS используется для потоковой передачи и приложений.</span><span class="sxs-lookup"><span data-stu-id="db5dd-139">In this scenario, the App-V Management Server is used for publishing the packages, and the IIS server is used for streaming packages and applications.</span></span> <span data-ttu-id="db5dd-140">После импорта исходного пакета на сервер управления администратор скопирует папку пакета, содержащую файлы, созданные секвенсором, в папку содержимого (например, в \\\\server\\CONTENT\\packagename.).</span><span class="sxs-lookup"><span data-stu-id="db5dd-140">When the original package is imported to the Management Server, the administrator copies the package folder that contains the files created by the sequencer to the CONTENT folder, for example, to \\\\server\\CONTENT\\packagename.</span></span> <span data-ttu-id="db5dd-141">Администратор редактирует элемент HREF в OSD, чтобы он указывал на SFT – файл на сервере IIS, и затем импортирует пакет на сервер управления.</span><span class="sxs-lookup"><span data-stu-id="db5dd-141">The administrator edits the HREF entry in the OSD file so it points to the SFT file on the IIS server, and then imports the package to the Management Server.</span></span>

<span data-ttu-id="db5dd-142">Чтобы настроить сервер IIS для потоковой передачи, администратор копирует папку пакета с сервера управления в папку содержимого на сервере IIS.</span><span class="sxs-lookup"><span data-stu-id="db5dd-142">To set up the IIS server for streaming, the administrator copies the package folder from the Management Server to the CONTENT folder on the IIS Server.</span></span> <span data-ttu-id="db5dd-143">Эта папка должна иметь то же имя и относительный путь в папке веб-содержимого сервера IIS, как на сервере управления; Например, можно получить доступ к URL-адресу на сервере IIS с помощью http://IISserver/CONTENT/packagename или https://IISserver/CONTENT/packagename .</span><span class="sxs-lookup"><span data-stu-id="db5dd-143">This folder must have the same name and relative path under the IIS server’s Web Content folder as on the Management Server; for example, the URL on the IIS Server can be accessed by using http://IISserver/CONTENT/packagename or https://IISserver/CONTENT/packagename.</span></span>

<span data-ttu-id="db5dd-144">Если параметр корневого каталога приложения клиента (ASR) установлен так, чтобы он указывал на сервер IIS, клиент использует ASR, а не имя сервера в записи HREF в OSD-файле.</span><span class="sxs-lookup"><span data-stu-id="db5dd-144">If the client’s Application Source Root (ASR) setting is configured to point to the IIS Server, the client uses the ASR instead of the server name in the HREF entry in the OSD file.</span></span> <span data-ttu-id="db5dd-145">Вы можете дополнительно настроить поля ISR и OSR на клиенте, чтобы указать либо сервер управления, либо сервер IIS, в зависимости от конкретной архитектуры системы, которую вы используете.</span><span class="sxs-lookup"><span data-stu-id="db5dd-145">You can optionally configure the ISR and OSR fields on the client to point to either the Management Server or the IIS Server, depending on the specific system architecture that you use.</span></span>

<span data-ttu-id="db5dd-146">Когда сервер управления выполняет проверку подлинности пользователя, сервер публикует приложения пользователя, отправляя файл applist.xml клиенту.</span><span class="sxs-lookup"><span data-stu-id="db5dd-146">When the Management Server authenticates the user, the server publishes the user’s applications by sending the applist.xml file to the client.</span></span> <span data-ttu-id="db5dd-147">Клиент извлекает OSD файлы и значки для приложений с сервера IIS или сервера управления, в зависимости от параметров в полях ISR и OSR.</span><span class="sxs-lookup"><span data-stu-id="db5dd-147">The client retrieves the OSD files and icons for the applications from either the IIS Server or the Management Server, depending on the settings in the ISR and OSR fields.</span></span>

<span data-ttu-id="db5dd-148">Когда пользователь дважды щелкает значок приложения, клиент использует путь к файлу содержимого пакета (SFT), который содержится в элементе HREF файла OSD.</span><span class="sxs-lookup"><span data-stu-id="db5dd-148">When the user double-clicks an application icon, the client uses the path to the package content file (SFT) that is contained in the OSD file HREF element.</span></span> <span data-ttu-id="db5dd-149">Если используется ASR-сервер, клиент заменяет имя сервера (а также порт и протокол, если оно используется) в элементе HREF, указав путь к серверу IIS, указанному в ASR.</span><span class="sxs-lookup"><span data-stu-id="db5dd-149">If the ASR is used the client replaces the server name (and port and protocol, if used) in the HREF element with the path to the IIS Server that is specified in the ASR.</span></span> <span data-ttu-id="db5dd-150">Затем приложение передается из сервера IIS в кэш клиента с помощью протокола HTTP (S) и запускается.</span><span class="sxs-lookup"><span data-stu-id="db5dd-150">The application is then streamed from the IIS server to the client cache by using the HTTP(S) protocol and is started.</span></span>

### <span data-ttu-id="db5dd-151">Обновление пакета</span><span class="sxs-lookup"><span data-stu-id="db5dd-151">To upgrade the package</span></span>

<span data-ttu-id="db5dd-152">Процедура обновления пакета описана ниже.</span><span class="sxs-lookup"><span data-stu-id="db5dd-152">The procedure to upgrade the package is as follows:</span></span>

-   <span data-ttu-id="db5dd-153">Скопируйте новую версию OSD-файла в папку исходной версии в папке содержимого сервера управления, например \\\\server\\CONTENT\\packagename, и замените существующий OSD-файл.</span><span class="sxs-lookup"><span data-stu-id="db5dd-153">Copy the new version of the OSD file to the original version’s folder under the Management Server’s CONTENT folder, for example \\\\server\\CONTENT\\packagename, and replace the existing OSD file.</span></span> <span data-ttu-id="db5dd-154">Для обеспечения единообразия скопируйте также и другие файлы, которые были изменены.</span><span class="sxs-lookup"><span data-stu-id="db5dd-154">For consistency, copy any other modified files, too.</span></span> <span data-ttu-id="db5dd-155">Если используются поля OSR и ISR клиента, скопируйте обновленный файл OSD и значки на сервер, указанный в полях OSR и ISR.</span><span class="sxs-lookup"><span data-stu-id="db5dd-155">If the client’s OSR or ISR fields are used, then also copy the updated OSD file and icons to the server that is specified in the OSR and ISR fields.</span></span>

-   <span data-ttu-id="db5dd-156">Скопируйте новую версию SFT-файла в папку Package в папке "содержимое" на сервере IIS. Например, можно получить доступ к URL-адресу на сервере IIS с помощью http://IISserver/CONTENT/packagename или https://IISserver/CONTENT/packagename .</span><span class="sxs-lookup"><span data-stu-id="db5dd-156">Copy the new version of the SFT file to the package folder under the Web Content folder on the IIS server; for example, the URL on the IIS Server can be accessed by using http://IISserver/CONTENT/packagename or https://IISserver/CONTENT/packagename.</span></span>

<span data-ttu-id="db5dd-157">При следующем обновлении публикации клиент обновится с помощью новой версии OSD файла.</span><span class="sxs-lookup"><span data-stu-id="db5dd-157">At the next publishing refresh, the client is updated with the new version of the OSD file.</span></span> <span data-ttu-id="db5dd-158">Этот файл теперь указывает на новую версию SFT файла; Таким образом, когда пользователь дважды щелкает значок приложения, запускается новая версия.</span><span class="sxs-lookup"><span data-stu-id="db5dd-158">This file now points to the new version of the SFT file; therefore, when the user next double-clicks an application icon, the new version is started.</span></span>

## <span data-ttu-id="db5dd-159">Использование сервера управления для публикации и общего доступа к файлам для потоковой передачи</span><span class="sxs-lookup"><span data-stu-id="db5dd-159">Using a Management Server for publishing and a File Share for Streaming</span></span>


<span data-ttu-id="db5dd-160">В этом сценарии сервер управления App-V используется для публикации пакетов, а файловый сервер используется для потоковой передачи и приложений.</span><span class="sxs-lookup"><span data-stu-id="db5dd-160">In this scenario, the App-V Management Server is used for publishing the packages, and the file server is used for streaming packages and applications.</span></span> <span data-ttu-id="db5dd-161">После импорта исходного пакета на сервер управления администратор скопирует папку пакета, содержащую файлы, созданные секвенсором, в папку содержимого (например, в \\\\server\\CONTENT\\packagename.).</span><span class="sxs-lookup"><span data-stu-id="db5dd-161">When the original package is imported to the Management Server, the administrator copies the package folder that contains the files created by the sequencer to the CONTENT folder, for example, to \\\\server\\CONTENT\\packagename.</span></span> <span data-ttu-id="db5dd-162">Администратор редактирует элемент HREF в OSD, чтобы он указывал на файл SFT на файловом сервере, и импортирует пакет на сервер управления.</span><span class="sxs-lookup"><span data-stu-id="db5dd-162">The administrator edits the HREF entry in the OSD file so that it points to the SFT file on the file server, and imports the package to the Management Server.</span></span>

<span data-ttu-id="db5dd-163">Чтобы настроить файловый сервер для потоковой передачи, администратор копирует папку пакета с сервера управления в папку содержимого на файловом сервере.</span><span class="sxs-lookup"><span data-stu-id="db5dd-163">To set up the file server for streaming, the administrator copies the package folder from the Management Server to the CONTENT folder on the file server.</span></span> <span data-ttu-id="db5dd-164">Эта папка должна иметь то же имя и относительный путь в папке содержимого файлового сервера, как на сервере управления, например \\\\fileserver\\CONTENT\\packagename.</span><span class="sxs-lookup"><span data-stu-id="db5dd-164">This folder must have the same name and relative path under the file server’s CONTENT folder as on the Management Server, for example \\\\fileserver\\CONTENT\\packagename.</span></span>

<span data-ttu-id="db5dd-165">Если параметр корневого каталога приложения (ASR) клиента настроен таким образом, чтобы он указывал на файловый сервер, используя путь UNC (например, \\\\fileserver\\content), клиент использует этот параметр вместо имени сервера в записи HREF в OSD-файле.</span><span class="sxs-lookup"><span data-stu-id="db5dd-165">If the client’s Application Source Root (ASR) setting is configured to point to the file server by using a UNC path, for example \\\\fileserver\\content, the client uses this setting instead of the server name in the HREF entry in the OSD file.</span></span> <span data-ttu-id="db5dd-166">Администратор может при необходимости настроить поля ISR и OSR на клиенте, чтобы указать либо сервер управления, либо файловый сервер в зависимости от используемой архитектуры системы.</span><span class="sxs-lookup"><span data-stu-id="db5dd-166">The administrator can optionally configure the ISR and OSR fields on the client to point to either the Management Server or the file server, depending on the specific system architecture being used.</span></span>

<span data-ttu-id="db5dd-167">Когда сервер управления выполняет проверку подлинности пользователя, сервер публикует приложения пользователя, отправляя файл applist.xml клиенту.</span><span class="sxs-lookup"><span data-stu-id="db5dd-167">When the Management Server authenticates the user, the server publishes the user’s applications by sending the applist.xml file to the client.</span></span> <span data-ttu-id="db5dd-168">Клиент извлекает OSD файлы и значки для приложений с сервера файлов или управления, в зависимости от параметров в полях ISR и OSR.</span><span class="sxs-lookup"><span data-stu-id="db5dd-168">The client retrieves the OSD files and icons for the applications from either the file server or the Management Server, depending on the settings in the ISR and OSR fields.</span></span>

<span data-ttu-id="db5dd-169">Когда пользователь дважды щелкает значок приложения, клиент использует путь к файлу содержимого пакета (SFT), который содержится в элементе HREF файла OSD.</span><span class="sxs-lookup"><span data-stu-id="db5dd-169">When the user double-clicks an application icon, the client uses the path to the package content file (SFT) that is contained in the OSD file HREF element.</span></span> <span data-ttu-id="db5dd-170">Если используется ASR, клиент заменяет имя сервера (а также порт и протокол, если оно используется) в элементе HREF, указав путь к файлу сервера, указанному в ASR.</span><span class="sxs-lookup"><span data-stu-id="db5dd-170">If the ASR is used, the client replaces the server name (and port and protocol, if used) in the HREF element with the path to the file server that is specified in the ASR.</span></span> <span data-ttu-id="db5dd-171">Затем приложение передается из кэша файлов на клиентский кэш и запускается.</span><span class="sxs-lookup"><span data-stu-id="db5dd-171">The application is then streamed from the file server to the client cache and is started.</span></span>

### <span data-ttu-id="db5dd-172">Обновление пакета</span><span class="sxs-lookup"><span data-stu-id="db5dd-172">To upgrade the package</span></span>

<span data-ttu-id="db5dd-173">Процедура обновления пакета описана ниже.</span><span class="sxs-lookup"><span data-stu-id="db5dd-173">The procedure to upgrade the package is as follows:</span></span>

-   <span data-ttu-id="db5dd-174">Скопируйте новую версию OSD-файла в папку исходной версии в папке содержимого сервера управления (например, \\\\server\\CONTENT\\packagename, заменив существующий OSD-файл).</span><span class="sxs-lookup"><span data-stu-id="db5dd-174">Copy the new version of the OSD file to the original version’s folder under the Management Server’s CONTENT folder, for example \\\\server\\CONTENT\\packagename, replacing the existing OSD file.</span></span> <span data-ttu-id="db5dd-175">Кроме того, для обеспечения согласованности также нужно скопировать любые другие измененные файлы.</span><span class="sxs-lookup"><span data-stu-id="db5dd-175">Any other modified files should be copied as well for consistency.</span></span> <span data-ttu-id="db5dd-176">Если используются поля OSR и ISR клиента, скопируйте обновленный файл OSD и значки на сервер, указанный в полях OSR и ISR.</span><span class="sxs-lookup"><span data-stu-id="db5dd-176">If the client’s OSR or ISR fields are used, then also copy the updated OSD file and icons to the server that is specified in the OSR and ISR fields.</span></span>

-   <span data-ttu-id="db5dd-177">Скопируйте новую версию SFT файла в папку Package в папке "содержимое" на файловом сервере (например, \\\\fileserver\\CONTENT\\packagename.).</span><span class="sxs-lookup"><span data-stu-id="db5dd-177">Copy the new version of the SFT file to the package folder under the CONTENT folder on the file server, for example \\\\fileserver\\CONTENT\\packagename.</span></span> <span data-ttu-id="db5dd-178">Скопируйте SFT – файл версии 2 в папку, расположенную под общим КОНТЕНТом на файловом сервере, например \\\\fileserver\\CONTENT\\packagename\\V1.</span><span class="sxs-lookup"><span data-stu-id="db5dd-178">Copy the V2 SFT file to the folder under the CONTENT share on the file server, for example \\\\fileserver\\CONTENT\\packagename\\V1.</span></span>

<span data-ttu-id="db5dd-179">При следующем обновлении публикации клиент обновится с помощью новой версии OSD файла.</span><span class="sxs-lookup"><span data-stu-id="db5dd-179">At the next publishing refresh the client is updated with the new version of the OSD file.</span></span> <span data-ttu-id="db5dd-180">Этот файл теперь указывает на новую версию SFT-файла, поэтому при следующем двойном щелчке по значку приложения запускается новая версия.</span><span class="sxs-lookup"><span data-stu-id="db5dd-180">This file now points to new version of the SFT file, so when the user next double-clicks an application icon, the new version is started.</span></span>

## <span data-ttu-id="db5dd-181">Обновление пакета с помощью потокового режима MSI</span><span class="sxs-lookup"><span data-stu-id="db5dd-181">Upgrading the package by using MSI Streaming mode</span></span>


<span data-ttu-id="db5dd-182">При создании файла установщика Windows (MSI) во время виртуализации пакета секвенсор создает файл. MSI-файл, содержащий все необходимые сведения о публикации.</span><span class="sxs-lookup"><span data-stu-id="db5dd-182">When you generate a Windows Installer (MSI) file during sequencing a package, the sequencer creates a .MSI file that contains all the necessary publishing information.</span></span> <span data-ttu-id="db5dd-183">Администратор должен скопировать. MSI-файл для клиента и. SFT-файл, содержащий содержимое пакета, к общему сетевому доступу, доступному на клиентском компьютере.</span><span class="sxs-lookup"><span data-stu-id="db5dd-183">The administrator must copy the .MSI file to the client and the .SFT file containing the package content to a network share accessible by the client computer.</span></span>

<span data-ttu-id="db5dd-184">Чтобы опубликовать приложение на клиентском компьютере, выполните следующую команду:</span><span class="sxs-lookup"><span data-stu-id="db5dd-184">To publish the application to the client, run the following command on the client computer:</span></span>

   **<span data-ttu-id="db5dd-185">Msiexec.exe/i \\\\PathToMsi\\packagename.msi MODE = STREAMing OVERRIDEURL = \\\\\\\\server\\share\\package.SFT</span><span class="sxs-lookup"><span data-stu-id="db5dd-185">Msiexec.exe /i \\\\PathToMsi\\packagename.msi MODE=STREAMING OVERRIDEURL=\\\\\\\\server\\share\\package.sft</span></span>**

<span data-ttu-id="db5dd-186">С. MSI-файл публикует приложения для клиента, а затем создает поток. SFT файла в клиентский кэш.</span><span class="sxs-lookup"><span data-stu-id="db5dd-186">The .MSI file publishes the applications to the client and then streams the .SFT file to the client cache.</span></span>

### <span data-ttu-id="db5dd-187">Обновление пакета</span><span class="sxs-lookup"><span data-stu-id="db5dd-187">To upgrade the package</span></span>

<span data-ttu-id="db5dd-188">Чтобы добавить новую версию, администратор должен развернуть новый. MSI-файла на клиент и новый. SFT файла в сетевую общую сеть.</span><span class="sxs-lookup"><span data-stu-id="db5dd-188">To add a new version, an administrator must deploy a new .MSI file to the client and a new .SFT file to the network share.</span></span> <span data-ttu-id="db5dd-189">Администратор должен выполнить ту же команду, которая использовалась для развертывания пакета, но использовать новый. MSI-файл и новый. Файл SFT, например:</span><span class="sxs-lookup"><span data-stu-id="db5dd-189">The administrator must then run the same command used to deploy the package, but use the new .MSI file and the new .SFT file, for example:</span></span>

   **<span data-ttu-id="db5dd-190">Msiexec.exe/i \\\\PathToMsi\\packagename\_2.msi MODE = STREAMing OVERRIDEURL = \\\\\\\\server\\share\\package\_2.SFT</span><span class="sxs-lookup"><span data-stu-id="db5dd-190">Msiexec.exe /i \\\\PathToMsi\\packagename\_2.msi MODE=STREAMING OVERRIDEURL=\\\\\\\\server\\share\\package\_2.sft</span></span>**

 

 





