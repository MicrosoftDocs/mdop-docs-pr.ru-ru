---
title: Проектирование репозиториев образа MED-V
description: Проектирование репозиториев образа MED-V
author: dansimp
ms.assetid: e153154d-2751-4990-b94d-a2d76242c15f
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 08/30/2016
ms.openlocfilehash: e0c59a0dd2d1b3a78bd211c6a6353a86c77d8fc2
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/26/2020
ms.locfileid: "10823612"
---
# Проектирование репозиториев образа MED-V


После создания и упаковки изображений для MED-V они могут храниться на файловом сервере в любом месте. Файлы могут быть отправлены по протоколу HTTP или HTTPS одним или несколькими серверами IIS. Репозиторий изображений может совместно использоваться несколькими экземплярами MED-V.

Чтобы разработать репозитории изображений, сначала необходимо решить, как будут развертываться изображения для каждого клиента, а затем, требуется ли для этого клиента локальное хранилище изображений. Затем каждый репозиторий разрабатывается и размещается вместе с сопутствующим сервером IIS.

## Определение того, как развертываются изображения


Для каждой рабочей области для MED-V решите, как вы планируете развертывать образы MED-V на клиенте. Это важно для определения количества хранилищ, необходимых для хранения упакованных изображений, которые будут помещены в них, а затем для разработки этих репозиториев.

Упакованные изображения можно развертывать следующими способами:

-   Загружен по сети с сервера распространения изображений, включающего файловый сервер и сервер IIS.

-   На съемном носителе (например, USB-накопителе или DVD-диске).

-   Предварительно заготовить к каталогу хранилища изображений на клиентском компьютере с помощью корпоративного центра распространения программного обеспечения.

Определите, какой метод или методы будут использоваться при развертывании изображений MED-V на каждом из клиентов и в том случае, если для расположения требуется репозиторий изображений.

## Определение количества репозиториев изображений


Теперь, когда вы определили минимальную подходящую подписку, добавьте дополнительные, если применимо любое из указанных ниже условий.

-   Организационные или нормативные причины для разделения изображений MED-v (некоторые образы MED-V могут не сосуществовать в одном и том же репозитории). Например, для конфиденциальных персональных данных может потребоваться хранилище на сервере, доступное только ограниченному набору сотрудников, которым нужен доступ к данным.

-   Клиенты в изолированных сетях — если изображения будут развертываться по сети, определите, являются ли какие-либо сети изолированными и требуют отдельного репозитория. Например, организации часто изолируют лабораторные сети из производственных сетей.

-   Клиенты в удаленных сетях — если изображения будут развертываться по сети, некоторые клиентские компьютеры могут быть отделены от репозитория сетевыми связями, которые имеют недостаточную пропускную способность для обеспечения адекватной работы, когда клиент загружает рабочую область MED-V. При необходимости создайте дополнительные экземпляры MED-V, чтобы решить эту необходимость.

Добавьте эти репозитории в проект. Определите имя для каждого репозитория и причину его создания. Решите, какие образы для MED-V будут храниться в репозиториях и какие клиенты MED-V будут загружать рабочие области MED-V с изображениями из репозитория.

## Разработка и помещение Репозитарией изображений


Когда для клиентов будет доступно новое изображение, клиенты начинают скачивать изображение, возможно, одновременно. Это приведет к созданию большого спроса на репозиторий и необходимости учитывать его при проектировании репозитория изображений.

Для каждого репозитория Определите объем данных, которые он будет хранить. Суммировать размеры изображений, которые будут храниться в репозитории. Это значение дискового пространства, необходимого на файловом сервере.

Затем добавьте в репозиторий число клиентов, которые могут загружать образы MED-V. Это максимальное число одновременных Скачиваний, которые могут возникнуть при загрузке нового изображения MED-V в репозиторий. Файловый сервер должен быть разработан с помощью дисковой подсистемы, которая может отвечать требованиям к вводу-выводу, который будет создан.

Репозиторий изображений может находиться в той же системе, что и сервер MED-V, и на сервере с запущенным SQL Server или на удаленном файловом общем доступе. Вы также можете запустить его в виртуальной машине Windows Server2008 Hyper-V. Проверьте расположение в сети клиентов, которые будут обслуживаться в репозитории изображений, и поместите его в сетевую папку, в которой будет достаточно пропускной способности для соответствия требованиям уровня обслуживания для этих клиентов.

### Отказоустойчивость

Если репозиторий изображений недоступен, клиенты не смогут загрузить новые или обновленные образы MED-V. Чтобы разработать параметры отказоустойчивости для файлового сервера и отказоустойчивых дисков, ознакомьтесь с руководством по [планированию инфраструктуры и проектированию Microsoft SQL server 2008](https://go.microsoft.com/fwlink/?LinkId=163302) .

## Проектирование и размещение серверов IIS


Этот раздел подходит только в том случае, если клиенты загружают файлы изображений по сети по протоколу HTTP или HTTPS.

Сервер IIS может сосуществовать в той же системе, что и сервер MED-V, и на сервере SQL Server. Оно также может выполняться в виртуальной машине Windows Server2008 Hyper-V. Инфраструктура сервера IIS должна иметь достаточную пропускную способность для доставки изображений клиентам в рамках ожидаемого уровня обслуживания. Она должна быть разработана с помощью дисковой подсистемы, которая может соответствовать требованиям к вводу-выводу.

Для каждого репозитория изображений следует суммировать количество клиентов, которые могут загружать образы MED-V с помощью IIS. Это максимальное число одновременных Скачиваний, которые могут возникнуть при загрузке изображения в репозиторий. Используйте сумму пропускной способности и ожидаемые значения уровня обслуживания, определенные в разделе [Определение области охвата проекта](define-the-project-scope.md) для планирования инфраструктуры сервера IIS и определения подходящего объема пропускной способности, выделяемой для репозитория.

Для создания инфраструктуры служб IIS ознакомьтесь с [разработкой "Планирование инфраструктуры и проектирование Microsoft Internet Information Services](https://go.microsoft.com/fwlink/?LinkId=160826) ".

### Отказоустойчивость

Если инфраструктура сервера IIS недоступна, клиенты не смогут скачивать новые или обновленные образы. Чтобы настроить отказоустойчивость, сервер IIS под управлением Windows Server2008 можно поместить в отказоустойчивый кластер. Для разработки отказоустойчивости инфраструктуры сервера IIS ознакомьтесь с [разработкой "Планирование инфраструктуры и проектирование Microsoft Internet Information Services](https://go.microsoft.com/fwlink/?LinkId=160826) ".

## Статьи по теме


[Развертывание рабочей области MED-V с помощью корпоративной системы распространения программного обеспечения](deploying-a-med-v-workspace-using-an-enterprise-software-distribution-system.md)

[Развертывание рабочей области MED-V с помощью пакета развертывания](deploying-a-med-v-workspace-using-a-deployment-package.md)

 

 





